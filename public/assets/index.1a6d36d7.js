function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};p();const sharedConfig={};function setHydrateContext(e){sharedConfig.context=e}const equalFn=(e,t)=>e===t,$PROXY=Symbol("solid-proxy"),$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const NOTPENDING={},STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null};var Owner=null;let Transition=null,Listener=null,Pending=null,Updates=null,Effects=null,ExecCount=0;function createRoot(e,t){const n=Listener,r=Owner,i=e.length===0,o=i?UNOWNED:{owned:null,cleanups:null,context:null,owner:t||r},s=i?e:()=>e(()=>cleanNode(o));Owner=o,Listener=null;try{return runUpdates(s,!0)}finally{Listener=n,Owner=r}}function createSignal(e,t){t=t?Object.assign({},signalOptions,t):signalOptions;const n={value:e,observers:null,observerSlots:null,pending:NOTPENDING,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.pending!==NOTPENDING?n.pending:n.value)),writeSignal(n,i));return[readSignal.bind(n),r]}function createRenderEffect(e,t,n){const r=createComputation(e,t,!1,STALE);updateComputation(r)}function createEffect(e,t,n){runEffects=runUserEffects;const r=createComputation(e,t,!1,STALE);r.user=!0,Effects?Effects.push(r):updateComputation(r)}function createMemo(e,t,n){n=n?Object.assign({},signalOptions,n):signalOptions;const r=createComputation(e,t,!0,0);return r.pending=NOTPENDING,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,updateComputation(r),readSignal.bind(r)}function batch(e){if(Pending)return e();let t;const n=Pending=[];try{t=e()}finally{Pending=null}return runUpdates(()=>{for(let r=0;r<n.length;r+=1){const i=n[r];if(i.pending!==NOTPENDING){const o=i.pending;i.pending=NOTPENDING,writeSignal(i,o)}}},!1),t}function untrack(e){let t,n=Listener;return Listener=null,t=e(),Listener=n,t}function onCleanup(e){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[e]:Owner.cleanups.push(e)),e}function getListener(){return Listener}function readSignal(){const e=Transition;if(this.sources&&(this.state||e)){const t=Updates;Updates=null,this.state===STALE||e?updateComputation(this):lookUpstream(this),Updates=t}if(Listener){const t=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(t)):(Listener.sources=[this],Listener.sourceSlots=[t]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(e,t,n){if(Pending)return e.pending===NOTPENDING&&Pending.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let r=!1;return e.value=t,e.observers&&e.observers.length&&runUpdates(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i];r&&Transition.disposed.has(o),(r&&!o.tState||!r&&!o.state)&&(o.pure?Updates.push(o):Effects.push(o),o.observers&&markDownstream(o)),r||(o.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1),t}function updateComputation(e){if(!e.fn)return;cleanNode(e);const t=Owner,n=Listener,r=ExecCount;Listener=Owner=e,runComputation(e,e.value,r),Listener=n,Owner=t}function runComputation(e,t,n){let r;try{r=e.fn(t)}catch(i){handleError$2(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?writeSignal(e,r):e.value=r,e.updatedAt=n)}function createComputation(e,t,n,r=STALE,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Owner,context:null,pure:n};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(o):Owner.owned=[o]),o}function runTop(e){const t=Transition;if(e.state===0||t)return;if(e.state===PENDING||t)return lookUpstream(e);if(e.suspense&&untrack(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ExecCount);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===STALE||t)updateComputation(e);else if(e.state===PENDING||t){const i=Updates;Updates=null,lookUpstream(e,n[0]),Updates=i}}function runUpdates(e,t){if(Updates)return e();let n=!1;t||(Updates=[]),Effects?n=!0:Effects=[],ExecCount++;try{const r=e();return completeUpdates(n),r}catch(r){Updates||(Effects=null),handleError$2(r)}}function completeUpdates(e){Updates&&(runQueue(Updates),Updates=null),!e&&(Effects.length?batch(()=>{runEffects(Effects),Effects=null}):Effects=null)}function runQueue(e){for(let t=0;t<e.length;t++)runTop(e[t])}function runUserEffects(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:runTop(i)}sharedConfig.context&&setHydrateContext();const r=e.length;for(t=0;t<n;t++)runTop(e[t]);for(t=r;t<e.length;t++)runTop(e[t])}function lookUpstream(e,t){const n=Transition;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===STALE||n?i!==t&&runTop(i):(i.state===PENDING||n)&&lookUpstream(i,t))}}function markDownstream(e){const t=Transition;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=PENDING,r.pure?Updates.push(r):Effects.push(r),r.observers&&markDownstream(r))}}function cleanNode(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)cleanNode(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function handleError$2(e){throw e}const FALLBACK=Symbol("fallback");function dispose(e){for(let t=0;t<e.length;t++)e[t]()}function mapArray(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return onCleanup(()=>dispose(o)),()=>{let l=e()||[],h,c;return l[$TRACK],untrack(()=>{let g=l.length,d,m,y,v,_,T,C,O,$;if(g===0)s!==0&&(dispose(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[FALLBACK],i[0]=createRoot(E=>(o[0]=E,n.fallback())),s=1);else if(s===0){for(i=new Array(g),c=0;c<g;c++)r[c]=l[c],i[c]=createRoot(f);s=g}else{for(y=new Array(g),v=new Array(g),a&&(_=new Array(g)),T=0,C=Math.min(s,g);T<C&&r[T]===l[T];T++);for(C=s-1,O=g-1;C>=T&&O>=T&&r[C]===l[O];C--,O--)y[O]=i[C],v[O]=o[C],a&&(_[O]=a[C]);for(d=new Map,m=new Array(O+1),c=O;c>=T;c--)$=l[c],h=d.get($),m[c]=h===void 0?-1:h,d.set($,c);for(h=T;h<=C;h++)$=r[h],c=d.get($),c!==void 0&&c!==-1?(y[c]=i[h],v[c]=o[h],a&&(_[c]=a[h]),c=m[c],d.set($,c)):o[h]();for(c=T;c<g;c++)c in y?(i[c]=y[c],o[c]=v[c],a&&(a[c]=_[c],a[c](c))):i[c]=createRoot(f);i=i.slice(0,s=g),r=l.slice(0)}return i});function f(g){if(o[c]=g,a){const[d,m]=createSignal(c);return a[c]=m,t(l[c],d)}return t(l[c])}}}function createComponent(e,t){return untrack(()=>e(t||{}))}function trueFn(){return!0}const propTraps={get(e,t,n){return t===$PROXY?n:e.get(t)},has(e,t){return e.has(t)},set:trueFn,deleteProperty:trueFn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:trueFn,deleteProperty:trueFn}},ownKeys(e){return e.keys()}};function resolveSource(e){return(e=typeof e=="function"?e():e)==null?{}:e}function mergeProps(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=resolveSource(e[n])[t];if(r!==void 0)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in resolveSource(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(resolveSource(e[n])));return[...new Set(t)]}},propTraps)}function splitProps(e,...t){const n=new Set(t.flat()),r=Object.getOwnPropertyDescriptors(e),i=t.map(o=>{const s={};for(let a=0;a<o.length;a++){const l=o[a];Object.defineProperty(s,l,r[l]?r[l]:{get(){return e[l]},set(){return!0}})}return s});return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},propTraps)),i}function For(e){const t="fallback"in e&&{fallback:()=>e.fallback};return createMemo(mapArray(()=>e.each,e.children,t||void 0))}function Show(e){let t=!1;const n=createMemo(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return createMemo(()=>{const r=n();if(r){const i=e.children;return(t=typeof i=="function"&&i.length>0)?untrack(()=>i(r)):i}return e.fallback})}const booleans=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Properties=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...booleans]),ChildProperties=new Set(["innerHTML","textContent","innerText","children"]),Aliases={className:"class",htmlFor:"for"},PropAliases={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},DelegatedEvents=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),SVGElements=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),SVGNamespace={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function memo(e,t){return createMemo(e,void 0,t?void 0:{equals:t})}function reconcileArrays(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,l=t[i-1].nextSibling,h=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const c=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],c)}else if(o===a)for(;s<i;)(!h||!h.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],c),t[i]=n[o]}else{if(!h){h=new Map;let f=a;for(;f<o;)h.set(n[f],f++)}const c=h.get(t[s]);if(c!=null)if(a<c&&c<o){let f=s,g=1,d;for(;++f<i&&f<o&&!((d=h.get(t[f]))==null||d!==c+g);)g++;if(g>c-a){const m=t[s];for(;a<c;)e.insertBefore(n[a++],m)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(e,t,n){let r;return createRoot(i=>{r=i,t===document?e():insert(t,e(),t.firstChild?null:void 0,n)}),()=>{r(),t.textContent=""}}function template(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function delegateEvents(e,t=window.document){const n=t[$$EVENTS]||(t[$$EVENTS]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,eventHandler))}}function setAttribute(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function setAttributeNS(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function className(e,t){t==null?e.removeAttribute("class"):e.className=t}function addEventListener(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function classList(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(toggleClassKey(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(toggleClassKey(e,a,!0),n[a]=l)}return n}function style(e,t,n={}){const r=e.style,i=typeof n=="string";if(t==null&&i||typeof t=="string")return r.cssText=t;i&&(r.cssText=void 0,n={}),t||(t={});let o,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)o=t[s],o!==n[s]&&(r.setProperty(s,o),n[s]=o);return n}function spread(e,t,n,r){typeof t=="function"?createRenderEffect(i=>spreadExpression(e,t(),i,n,r)):spreadExpression(e,t,void 0,n,r)}function insert(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return insertExpression(e,t,r,n);createRenderEffect(i=>insertExpression(e,t(),i,n),r)}function assign(e,t,n,r,i={},o=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;assignProp(e,s,null,i[s],n,o)}for(const s in t){if(s==="children"){r||insertExpression(e,t.children);continue}const a=t[s];i[s]=assignProp(e,s,a,i[s],n,o)}}function getNextElement(e){let t,n;return!sharedConfig.context||!(t=sharedConfig.registry.get(n=getHydrationKey()))?e.cloneNode(!0):(sharedConfig.completed&&sharedConfig.completed.add(t),sharedConfig.registry.delete(n),t)}function toPropertyName(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function toggleClassKey(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function assignProp(e,t,n,r,i,o){let s,a,l;if(t==="style")return style(e,n,r);if(t==="classList")return classList(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),c=DelegatedEvents.has(h);if(!c&&r){const f=Array.isArray(r)?r[0]:r;e.removeEventListener(h,f)}(c||n)&&(addEventListener(e,h,n,c),c&&delegateEvents([h]))}else if((l=ChildProperties.has(t))||!i&&(PropAliases[t]||(a=Properties.has(t)))||(s=e.nodeName.includes("-")))t==="class"||t==="className"?className(e,n):s&&!a&&!l?e[toPropertyName(t)]=n:e[PropAliases[t]||t]=n;else{const h=i&&t.indexOf(":")>-1&&SVGNamespace[t.split(":")[0]];h?setAttributeNS(e,h,t,n):setAttribute(e,Aliases[t]||t,n)}return n}function eventHandler(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),sharedConfig.registry&&!sharedConfig.done&&(sharedConfig.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));n!==null;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function spreadExpression(e,t,n={},r,i){return t||(t={}),!i&&"children"in t&&createRenderEffect(()=>n.children=insertExpression(e,t.children,n.children)),t.ref&&t.ref(e),createRenderEffect(()=>assign(e,t,r,!0,n,!0)),n}function insertExpression(e,t,n,r,i){for(sharedConfig.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(sharedConfig.context)return n;if(o==="number"&&(t=t.toString()),s){let a=n[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),n=cleanChildren(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(sharedConfig.context)return n;n=cleanChildren(e,n,r)}else{if(o==="function")return createRenderEffect(()=>{let a=t();for(;typeof a=="function";)a=a();n=insertExpression(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(normalizeIncomingArray(a,t,n,i))return createRenderEffect(()=>n=insertExpression(e,a,n,r,!0)),()=>n;if(sharedConfig.context){for(let h=0;h<a.length;h++)if(a[h].parentNode)return n=a}if(a.length===0){if(n=cleanChildren(e,n,r),s)return n}else l?n.length===0?appendNodes(e,a,r):reconcileArrays(e,n,a):(n&&cleanChildren(e),appendNodes(e,a));n=a}else if(t instanceof Node){if(sharedConfig.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=cleanChildren(e,n,r,t);cleanChildren(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function normalizeIncomingArray(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=n&&n[o];if(a instanceof Node)e.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))i=normalizeIncomingArray(e,a,l)||i;else if(typeof a=="function")if(r){for(;typeof a=="function";)a=a();i=normalizeIncomingArray(e,Array.isArray(a)?a:[a],l)||i}else e.push(a),i=!0;else{const h=String(a);l&&l.nodeType===3&&l.data===h?e.push(l):e.push(document.createTextNode(h))}}return i}function appendNodes(e,t,n){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function cleanChildren(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const l=a.parentNode===e;!o&&!s?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function getHydrationKey(){const e=sharedConfig.context;return`${e.id}${e.count++}`}const SVG_NAMESPACE="http://www.w3.org/2000/svg";function createElement(e,t=!1){return t?document.createElementNS(SVG_NAMESPACE,e):document.createElement(e)}function Dynamic(e){const[t,n]=splitProps(e,["component"]),r=createMemo(()=>t.component);return createMemo(()=>{const i=r();switch(typeof i){case"function":return untrack(()=>i(n));case"string":const o=SVGElements.has(i),s=sharedConfig.context?getNextElement():createElement(i,o);return spread(s,n,o),s}})}const index$1="";function Spc(){return"\xA0"}const $RAW=Symbol("store-raw"),$NODE=Symbol("store-node"),$NAME=Symbol("store-name");function wrap$1(e,t){let n=e[$PROXY];if(!n){Object.defineProperty(e,$PROXY,{value:n=new Proxy(e,proxyTraps$1)});const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,s=r.length;o<s;o++){const a=r[o];if(i[a].get){const l=i[a].get.bind(n);Object.defineProperty(e,a,{get:l})}}}return n}function isWrappable(e){let t;return e!=null&&typeof e=="object"&&(e[$PROXY]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function unwrap(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[$RAW])return n;if(!isWrappable(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,a=e.length;s<a;s++)i=e[s],(r=unwrap(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,h=s.length;l<h;l++)o=s[l],!a[o].get&&(i=e[o],(r=unwrap(i,t))!==i&&(e[o]=r))}return e}function getDataNodes(e){let t=e[$NODE];return t||Object.defineProperty(e,$NODE,{value:t={}}),t}function getDataNode(e,t,n){return e[t]||(e[t]=createDataNode(n,!0))}function proxyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===$PROXY||t===$NODE||t===$NAME||(delete n.value,delete n.writable,n.get=()=>e[$PROXY][t]),n}function trackSelf(e){if(getListener()){const t=getDataNodes(e);(t._||(t._=createDataNode()))()}}function ownKeys(e){return trackSelf(e),Reflect.ownKeys(e)}function createDataNode(e,t){const[n,r]=createSignal(e,t?{internal:!0}:{equals:!1,internal:!0});return n.$=r,n}const proxyTraps$1={get(e,t,n){if(t===$RAW)return e;if(t===$PROXY)return n;if(t===$TRACK)return trackSelf(e);const r=getDataNodes(e),i=r[t];let o=i?r[t]():e[t];if(t===$NODE||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);getListener()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=getDataNode(r,t,o)())}return isWrappable(o)?wrap$1(o):o},set(){return!0},deleteProperty(){return!0},ownKeys,getOwnPropertyDescriptor:proxyDescriptor};function setProperty(e,t,n){if(e[t]===n)return;const r=e[t],i=e.length;n===void 0?delete e[t]:e[t]=n;let o=getDataNodes(e),s;(s=getDataNode(o,t,r))&&s.$(()=>n),Array.isArray(e)&&e.length!==i&&(s=getDataNode(o,"length",i))&&s.$(e.length),(s=o._)&&s.$()}function mergeStoreNode(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];setProperty(e,i,t[i])}}function updateArray(e,t){if(typeof t=="function"&&(t=t(e)),t=unwrap(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&setProperty(e,n,i)}setProperty(e,"length",r)}else mergeStoreNode(e,t)}function updatePath(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)updatePath(e,[r[l]].concat(t),n);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&updatePath(e,[l].concat(t),n);return}else if(a&&s==="object"){const{from:l=0,to:h=e.length-1,by:c=1}=r;for(let f=l;f<=h;f+=c)updatePath(e,[f].concat(t),n);return}else if(t.length>1){updatePath(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=unwrap(o),r===void 0||isWrappable(i)&&isWrappable(o)&&!Array.isArray(o)?mergeStoreNode(i,o):setProperty(e,r,o))}function createStore(...[e,t]){const n=unwrap(e||{}),r=Array.isArray(n),i=wrap$1(n);function o(...s){batch(()=>{r&&s.length===1?updateArray(n,s[0]):updatePath(n,s)})}return[i,o]}function mod(e,t){return(e%t+t)%t}function createLocalStore(e,t){const n=localStorage.getItem(e),[r,i]=createStore(n?JSON.parse(n):t);return createEffect(()=>localStorage.setItem(e,JSON.stringify(r))),[r,i]}const cropString=(e,t)=>e.length<=t?e:e.slice(0,t)+"...",generateId=()=>Math.random().toString(16).split(".")[1],last=e=>e[e.length-1],urlRegex=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,deepCopy=e=>JSON.parse(JSON.stringify(e)),findLast=(e,t)=>last(e.filter(t)),_tmpl$$4=template("<span></span>"),_tmpl$2$2=template('<input class="title-input">'),_tmpl$3$1=template("<span>&nbsp;(<!>)</span>"),_tmpl$4$1=template('<div class="item"><span></span><span><input class="checkbox" type="checkbox" disabled></span></div>'),_tmpl$5$1=template('<a class="inline-link" target="_blank">\u2197\uFE0F</a>');function TreeNode({item:e,controller:t,handlePaste:n}){let r;return createEffect(()=>{t.stateManager.state.selectedItem==e.id&&(r.focus(),setTimeout(()=>{r.selectionStart=r.selectionEnd=e.title.length},10))}),[(()=>{const i=_tmpl$4$1.cloneNode(!0),o=i.firstChild,s=o.nextSibling,a=s.firstChild;return insert(o,()=>"\xA0\xA0".repeat(e.depth)),insert(i,createComponent(Show,{get when(){return e.children.length},get fallback(){return createComponent(Spc,{})},get children(){const l=_tmpl$$4.cloneNode(!0);return insert(l,createComponent(Show,{get when(){return!e.expanded},fallback:"-",children:"+"})),l}}),s),insert(i,createComponent(Show,{get when(){return t.getCurrentItem()?.id===e.id},get fallback(){return(()=>{const l=_tmpl$$4.cloneNode(!0);return l.$$click=h=>t.selectItem(e.id),insert(l,()=>cropString(e.title,50),null),insert(l,createComponent(Show,{get when(){return e.link},get children(){const h=_tmpl$5$1.cloneNode(!0);return createRenderEffect(()=>setAttribute(h,"href",e.link)),h}}),null),l})()},get children(){const l=_tmpl$2$2.cloneNode(!0);l.$$click=c=>t.selectItem(e.id),addEventListener(l,"paste",n),l.addEventListener("change",c=>t.setTitle(e.id,c.target.value));const h=r;return typeof h=="function"?h(l):r=l,createRenderEffect(()=>l.value=e.title),l}}),null),insert(i,createComponent(Show,{get when(){return e.children.length},get children(){const l=_tmpl$3$1.cloneNode(!0),h=l.firstChild,c=h.nextSibling;return c.nextSibling,insert(l,()=>e.children.length,c),l}}),null),createRenderEffect(()=>a.checked=e.done),i})(),createComponent(Show,{get when(){return e.expanded},get children(){return createComponent(For,{get each(){return e.children},children:i=>createComponent(TreeNode,{item:i,controller:t,handlePaste:n})})}})]}delegateEvents(["click"]);function Item(e,t){return{id:generateId(),title:e,depth:t,done:!1,link:"",author:"",tags:[],description:"",doneAt:null,content:"",expanded:!0,children:[],parent:null}}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=assetsURL(i),i in seen)return;seen[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":scriptRel,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((l,h)=>{a.addEventListener("load",l),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};var __awaiter$e=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const resolveFetch$3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>__awaiter$e(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...n)}):t=fetch,(...n)=>t(...n)};class FunctionsError extends Error{constructor(t,n="FunctionsError",r){super(t),super.name=n,this.context=r}}class FunctionsFetchError extends FunctionsError{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FunctionsRelayError extends FunctionsError{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FunctionsHttpError extends FunctionsError{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var __awaiter$d=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};class FunctionsClient{constructor(t,{headers:n={},customFetch:r}={}){this.url=t,this.headers=n,this.fetch=resolveFetch$3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return __awaiter$d(this,void 0,void 0,function*(){try{const{headers:i,body:o}=n;let s={},a;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",a=o):typeof o=="string"?(s["Content-Type"]="text/plain",a=o):typeof FormData<"u"&&o instanceof FormData?a=o:(s["Content-Type"]="application/json",a=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${t}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:a}).catch(g=>{throw new FunctionsFetchError(g)}),h=l.headers.get("x-relay-error");if(h&&h==="true")throw new FunctionsRelayError(l);if(!l.ok)throw new FunctionsHttpError(l);let c=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return c==="application/json"?f=yield l.json():c==="application/octet-stream"?f=yield l.blob():c==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browserPonyfill$1={exports:{}};(function(e,t){var n=typeof self<"u"?self:commonjsGlobal,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(x){return x&&DataView.prototype.isPrototypeOf(x)}if(a.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(x){return x&&h.indexOf(Object.prototype.toString.call(x))>-1};function f(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function g(x){return typeof x!="string"&&(x=String(x)),x}function d(x){var A={next:function(){var k=x.shift();return{done:k===void 0,value:k}}};return a.iterable&&(A[Symbol.iterator]=function(){return A}),A}function m(x){this.map={},x instanceof m?x.forEach(function(A,k){this.append(k,A)},this):Array.isArray(x)?x.forEach(function(A){this.append(A[0],A[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(A){this.append(A,x[A])},this)}m.prototype.append=function(x,A){x=f(x),A=g(A);var k=this.map[x];this.map[x]=k?k+", "+A:A},m.prototype.delete=function(x){delete this.map[f(x)]},m.prototype.get=function(x){return x=f(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(f(x))},m.prototype.set=function(x,A){this.map[f(x)]=g(A)},m.prototype.forEach=function(x,A){for(var k in this.map)this.map.hasOwnProperty(k)&&x.call(A,this.map[k],k,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(A,k){x.push(k)}),d(x)},m.prototype.values=function(){var x=[];return this.forEach(function(A){x.push(A)}),d(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(A,k){x.push([k,A])}),d(x)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function v(x){return new Promise(function(A,k){x.onload=function(){A(x.result)},x.onerror=function(){k(x.error)}})}function _(x){var A=new FileReader,k=v(A);return A.readAsArrayBuffer(x),k}function T(x){var A=new FileReader,k=v(A);return A.readAsText(x),k}function C(x){for(var A=new Uint8Array(x),k=new Array(A.length),M=0;M<A.length;M++)k[M]=String.fromCharCode(A[M]);return k.join("")}function O(x){if(x.slice)return x.slice(0);var A=new Uint8Array(x.byteLength);return A.set(new Uint8Array(x)),A.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:a.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:a.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():a.arrayBuffer&&a.blob&&l(x)?(this._bodyArrayBuffer=O(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||c(x))?this._bodyArrayBuffer=O(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var x=y(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var x=y(this);if(x)return x;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(x){var A=x.toUpperCase();return E.indexOf(A)>-1?A:x}function R(x,A){A=A||{};var k=A.body;if(x instanceof R){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,A.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!k&&x._bodyInit!=null&&(k=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new m(A.headers)),this.method=F(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function j(x){var A=new FormData;return x.trim().split("&").forEach(function(k){if(k){var M=k.split("="),N=M.shift().replace(/\+/g," "),z=M.join("=").replace(/\+/g," ");A.append(decodeURIComponent(N),decodeURIComponent(z))}}),A}function H(x){var A=new m,k=x.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(M){var N=M.split(":"),z=N.shift().trim();if(z){var q=N.join(":").trim();A.append(z,q)}}),A}$.call(R.prototype);function P(x,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new m(A.headers),this.url=A.url||"",this._initBody(x)}$.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},P.error=function(){var x=new P(null,{status:0,statusText:""});return x.type="error",x};var L=[301,302,303,307,308];P.redirect=function(x,A){if(L.indexOf(A)===-1)throw new RangeError("Invalid status code");return new P(null,{status:A,headers:{location:x}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(A,k){this.message=A,this.name=k;var M=Error(A);this.stack=M.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function D(x,A){return new Promise(function(k,M){var N=new R(x,A);if(N.signal&&N.signal.aborted)return M(new s.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function q(){z.abort()}z.onload=function(){var b={status:z.status,statusText:z.statusText,headers:H(z.getAllResponseHeaders()||"")};b.url="responseURL"in z?z.responseURL:b.headers.get("X-Request-URL");var w="response"in z?z.response:z.responseText;k(new P(w,b))},z.onerror=function(){M(new TypeError("Network request failed"))},z.ontimeout=function(){M(new TypeError("Network request failed"))},z.onabort=function(){M(new s.DOMException("Aborted","AbortError"))},z.open(N.method,N.url,!0),N.credentials==="include"?z.withCredentials=!0:N.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&a.blob&&(z.responseType="blob"),N.headers.forEach(function(b,w){z.setRequestHeader(w,b)}),N.signal&&(N.signal.addEventListener("abort",q),z.onreadystatechange=function(){z.readyState===4&&N.signal.removeEventListener("abort",q)}),z.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return D.polyfill=!0,o.fetch||(o.fetch=D,o.Headers=m,o.Request=R,o.Response=P),s.Headers=m,s.Request=R,s.Response=P,s.fetch=D,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(browserPonyfill$1,browserPonyfill$1.exports);const crossFetch=getDefaultExportFromCjs(browserPonyfill$1.exports),browserPonyfill=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfill$1.exports]);var __awaiter$c=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};class PostgrestBuilder{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=crossFetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>__awaiter$c(this,void 0,void 0,function*(){var s,a,l;let h=null,c=null,f=null,g=o.status,d=o.statusText;if(o.ok){if(this.method!=="HEAD"){const _=yield o.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&v&&v.length>1&&(f=parseInt(v[1]))}else{const y=yield o.text();try{h=JSON.parse(y),Array.isArray(h)&&o.status===404&&(c=[],h=null,g=200,d="OK")}catch{o.status===404&&y===""?(g=204,d="No Content"):h={message:y}}if(h&&this.allowEmpty&&((l=h?.details)===null||l===void 0?void 0:l.includes("Results contain 0 rows"))&&(h=null,g=200,d="OK"),h&&this.shouldThrowOnError)throw h}return{error:h,data:c,count:f,status:g,statusText:d}}));return this.shouldThrowOnError||(i=i.catch(o=>({error:{message:`FetchError: ${o.message}`,details:"",hint:"",code:o.code||""},data:null,count:null,status:0,statusText:""}))),i.then(t,n)}}class PostgrestTransformBuilder extends PostgrestBuilder{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i}={}){const o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class PostgrestFilterBuilder extends PostgrestTransformBuilder{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=n.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class PostgrestQueryBuilder{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new PostgrestFilterBuilder({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n}={}){const r="POST",i=[],o=t;if(n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new PostgrestFilterBuilder({method:r,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i}={}){const o="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];n!==void 0&&this.url.searchParams.set("on_conflict",n);const a=t;return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[],o=t;return n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new PostgrestFilterBuilder({method:r,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new PostgrestFilterBuilder({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const version$6="1.1.1",DEFAULT_HEADERS$4={"X-Client-Info":`postgrest-js/${version$6}`};class PostgrestClient{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$4),n),this.schema=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new PostgrestQueryBuilder(n,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,n={},{head:r=!1,count:i}={}){let o;const s=new URL(`${this.url}/rpc/${t}`);let a;r?(o="HEAD",Object.entries(n).forEach(([h,c])=>{s.searchParams.append(h,`${c}`)})):(o="POST",a=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new PostgrestFilterBuilder({method:o,url:s,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var global$1,hasRequiredGlobal;function requireGlobal(){if(hasRequiredGlobal)return global$1;hasRequiredGlobal=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return global$1=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),global$1}const _from="websocket@^1.0.34",_id="websocket@1.0.34",_inBundle=!1,_integrity="sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",_location="/websocket",_phantomChildren={},_requested={type:"range",registry:!0,raw:"websocket@^1.0.34",name:"websocket",escapedName:"websocket",rawSpec:"^1.0.34",saveSpec:null,fetchSpec:"^1.0.34"},_requiredBy=["/@supabase/realtime-js"],_resolved="https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",_shasum="2bdc2602c08bf2c82253b730655c0ef7dcab3111",_spec="websocket@^1.0.34",_where="/Users/arseniyoguzov/psy667/study-plan/node_modules/@supabase/realtime-js",author={name:"Brian McKelvey",email:"theturtle32@gmail.com",url:"https://github.com/theturtle32"},browser$1="lib/browser.js",bugs={url:"https://github.com/theturtle32/WebSocket-Node/issues"},bundleDependencies=!1,config={verbose:!1},contributors=[{name:"I\xF1aki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],dependencies={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},deprecated=!1,description="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.9.1"},directories={lib:"./lib"},engines={node:">=4.0.0"},homepage="https://github.com/theturtle32/WebSocket-Node",keywords=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license="Apache-2.0",main="index",name="websocket",repository={type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts={gulp:"gulp",test:"tape test/unit/*.js"},version$5="1.0.34",require$$0={_from,_id,_inBundle,_integrity,_location,_phantomChildren,_requested,_requiredBy,_resolved,_shasum,_spec,_where,author,browser:browser$1,bugs,bundleDependencies,config,contributors,dependencies,deprecated,description,devDependencies,directories,engines,homepage,keywords,license,main,name,repository,scripts,version:version$5};var version$4=require$$0.version,_globalThis;if(typeof globalThis=="object")_globalThis=globalThis;else try{_globalThis=requireGlobal()}catch{}finally{if(!_globalThis&&typeof window<"u"&&(_globalThis=window),!_globalThis)throw new Error("Could not determine global this")}var NativeWebSocket=_globalThis.WebSocket||_globalThis.MozWebSocket,websocket_version=version$4;function W3CWebSocket(e,t){var n;return t?n=new NativeWebSocket(e,t):n=new NativeWebSocket(e),n}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(W3CWebSocket,e,{get:function(){return NativeWebSocket[e]}})});var browser={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};const version$3="2.1.0",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Timer{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Serializer{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+i));s=s+i;const l=r.decode(t.slice(s,s+o));s=s+o;const h=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:h}}}class Push{constructor(t,n,r={},i=DEFAULT_TIMEOUT){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=RealtimePresence.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=RealtimePresence.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(h,c)=>{s[h]||(l[h]=c)}),this.map(s,(h,c)=>{const f=o[h];if(f){const g=c.map(v=>v.presence_ref),d=f.map(v=>v.presence_ref),m=c.filter(v=>d.indexOf(v.presence_ref)<0),y=f.filter(v=>g.indexOf(v.presence_ref)<0);m.length>0&&(a[h]=m),y.length>0&&(l[h]=y)}else a[h]=c}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var h;const c=(h=t[a])!==null&&h!==void 0?h:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(d=>d.presence_ref),g=c.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...g)}r(a,c,l)}),this.map(s,(a,l)=>{let h=t[a];if(!h)return;const c=l.map(f=>f.presence_ref);h=h.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=h,i(a,h,l),h.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=convertColumn(s,e,t,i),o),{})},convertColumn=(e,t,n,r)=>{const i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?convertCell(o,s):noop$1(s)},convertCell=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return toArray(t,n)}switch(e){case PostgresTypes.bool:return toBoolean(t);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(t);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(t);case PostgresTypes.timestamp:return toTimestampString(t);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(t);default:return noop$1(t)}},noop$1=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},toArray=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>convertCell(t,a))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e;var __awaiter$b=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})},REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new RealtimePresence(this)}subscribe(t,n=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s}}=this.params;this._onError(h=>t&&t("CHANNEL_ERROR",h)),this._onClose(()=>t&&t("CLOSED"));const a={},l={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){t&&t("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,g=(c=f?.length)!==null&&c!==void 0?c:0,d=[];for(let m=0;m<g;m++){const y=f[m],{filter:{event:v,schema:_,table:T,filter:C}}=y,O=h&&h[m];if(O&&O.event===v&&O.schema===_&&O.table===T&&O.filter===C)d.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=d,t&&t("SUBSCRIBED");return}}).receive("error",h=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(t={}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(t,n={}){return new Promise(r=>{var i,o,s;const a=this._push(t.type,t,n.timeout||this.timeout);a.rateLimited&&r("rate limited"),t.type==="broadcast"&&!(!((s=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=CHANNEL_STATES.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Push(this,CHANNEL_EVENTS.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Push(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:h,join:c}=CHANNEL_EVENTS;if(r&&[a,l,h,c].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var m,y,v;return((m=d.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=d.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(d=>d.callback(g,r)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var m,y,v,_,T,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const O=d.id,$=(m=d.filter)===null||m===void 0?void 0:m.event;return O&&((y=n.ids)===null||y===void 0?void 0:y.includes(O))&&($==="*"||$?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const O=(T=(_=d?.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return O==="*"||O===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof g=="object"&&"ids"in g){const m=g.data,{schema:y,table:v,commit_timestamp:_,type:T,errors:C}=m;g=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:_,eventType:T,new:{},old:{},errors:C}),this._getPayloadRecords(m))}d.callback(g,r)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&RealtimeChannel.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(CHANNEL_EVENTS.close,{},t)}_onError(t){this._on(CHANNEL_EVENTS.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=convertChangeData(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=convertChangeData(t.columns,t.old_record)),n}}var __awaiter$a=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const noop=()=>{};class RealtimeClient{constructor(t,n){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=browser.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${TRANSPORTS.websocket}`,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.transport&&(this.transport=n.transport),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(()=>__awaiter$a(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return t.unsubscribe().then(n=>(this.channels.length===0&&this.disconnect(),n))}removeAllChannels(){return Promise.all(this.channels.map(t=>t.unsubscribe())).then(t=>(this.disconnect(),t))}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(t,n={config:{}}){this.isConnected()||this.connect();const r=new RealtimeChannel(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:o}=t;let s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};if(this.log("push",`${n} ${r} (${o})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(s)())return"rate limited"}else s();else this.sendBuffer.push(s)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(CHANNEL_EVENTS.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;(s&&s===this.pendingHeartbeatRef||i===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(CHANNEL_EVENTS.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n),!1)}}class StorageError extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var __awaiter$9=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const resolveFetch$2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>__awaiter$9(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...n)}):t=fetch,(...n)=>t(...n)},resolveResponse=()=>__awaiter$9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).Response:Response});var __awaiter$8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,t)=>__awaiter$8(void 0,void 0,void 0,function*(){const n=yield resolveResponse();e instanceof n?e.json().then(r=>{t(new StorageApiError(_getErrorMessage$1(r),e.status||500))}):t(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function _handleRequest$1(e,t,n,r,i,o){return __awaiter$8(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,_getRequestParams$1(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>handleError$1(l,a))})})}function get(e,t,n,r){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",t,n,r)})}function post(e,t,n,r,i){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",t,r,i,n)})}function put(e,t,n,r,i){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",t,r,i,n)})}function remove(e,t,n,r,i){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",t,r,i,n)})}var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=resolveFetch$2(i)}uploadOrUpdate(t,n,r,i){return __awaiter$7(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl)):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);const l=this._removeEmptyFolders(n),h=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${h}`,{method:t,body:o,headers:a});if(c.ok)return{data:{path:l},error:null};{const f=yield c.json();return{data:null,error:f}}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}upload(t,n,r){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}update(t,n,r){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(isStorageError(r))return{data:null,error:r};throw r}})}copy(t,n){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(isStorageError(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return __awaiter$7(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield post(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return __awaiter$7(this,void 0,void 0,function*(){try{const i=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}download(t,n){return __awaiter$7(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield get(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${h}`)}}}remove(t){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}list(t,n,r){return __awaiter$7(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),n),{prefix:t||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),n.join("&")}}const version$2="2.1.0",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};class StorageBucketApi{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),n),this.fetch=resolveFetch$2(r)}listBuckets(){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(isStorageError(t))return{data:null,error:t};throw t}})}getBucket(t){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(r){if(isStorageError(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(r){if(isStorageError(r))return{data:null,error:r};throw r}})}emptyBucket(t){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}deleteBucket(t){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}}class StorageClient extends StorageBucketApi{constructor(t,n={},r){super(t,n,r)}from(t){return new StorageFileApi(this.url,this.headers,t,this.fetch)}}const version$1="2.2.2",DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js/${version$1}`};var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const resolveFetch$1=e=>{let t;return e?t=e:typeof fetch>"u"?t=crossFetch:t=fetch,(...n)=>t(...n)},resolveHeadersConstructor=()=>typeof Headers>"u"?browserPonyfill$1.exports.Headers:Headers,fetchWithAuth=(e,t,n)=>{const r=resolveFetch$1(n),i=resolveHeadersConstructor();return(o,s)=>__awaiter$5(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let h=new i(s?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:h}))})};function stripTrailingSlash(e){return e.replace(/\/$/,"")}function applySettingDefaults(e,t){const{db:n,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:l,global:h}=t;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},h),o)}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const isBrowser=()=>typeof document<"u";function getParameterByName(e,t){var n;t||(t=((n=window?.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const resolveFetch=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>__awaiter$4(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...n)}):t=fetch,(...n)=>t(...n)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=(e,t,n)=>__awaiter$4(void 0,void 0,void 0,function*(){yield e.setItem(t,JSON.stringify(n))}),getItemAsync=(e,t)=>__awaiter$4(void 0,void 0,void 0,function*(){const n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),removeItemAsync=(e,t)=>__awaiter$4(void 0,void 0,void 0,function*(){yield e.removeItem(t)}),decodeBase64URL=e=>{try{return decodeURIComponent(atob(e.replace(/[-]/g,"+").replace(/[_]/g,"/")).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(t){if(t instanceof ReferenceError)return Buffer.from(e,"base64").toString("utf-8");throw t}};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(decodeBase64URL(r))}class AuthError extends Error{constructor(t){super(t),this.__isAuthError=!0,this.name="AuthError"}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(t,n){super(t),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class CustomAuthError extends AuthError{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError=(e,t)=>__awaiter$3(void 0,void 0,void 0,function*(){const n=[502,503,504];looksLikeFetchResponse(e)?n.includes(e.status)?t(new AuthRetryableFetchError(_getErrorMessage(e),e.status)):e.json().then(r=>{t(new AuthApiError(_getErrorMessage(r),e.status||500))}).catch(r=>{t(new AuthUnknownError(_getErrorMessage(r),r))}):t(new AuthRetryableFetchError(_getErrorMessage(e),0))}),_getRequestParams=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function _request(e,t,n,r){var i;return __awaiter$3(this,void 0,void 0,function*(){const o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield _handleRequest(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function _handleRequest(e,t,n,r,i,o){return __awaiter$3(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,_getRequestParams(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>handleError(l,a))})})}function _sessionResponse(e){var t;let n=null;hasSession(e)&&(n=Object.assign({},e),n.expires_at=expiresAt(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _userResponse(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}var __awaiter$2=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})},__rest=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class GoTrueAdminApi{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=resolveFetch(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}})}inviteUserByEmail(t,n={}){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_userResponse})}catch(r){if(isAuthError(r))return{data:{user:null},error:r};throw r}})}generateLink(t){return __awaiter$2(this,void 0,void 0,function*(){try{const{options:n}=t,r=__rest(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_generateLinkResponse,redirectTo:n?.redirectTo})}catch(n){if(isAuthError(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}})}listUsers(t){var n,r,i,o,s,a,l;return __awaiter$2(this,void 0,void 0,function*(){try{const h={nextPage:null,lastPage:0,total:0},c=yield _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:_noResolveJsonResponse});if(c.error)throw c.error;const f=yield c.json(),g=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);h[`${v}Page`]=y}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},f),h),error:null}}catch(h){if(isAuthError(h))return{data:{users:[]},error:h};throw h}})}getUserById(t){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_userResponse})}catch(r){if(isAuthError(r))return{data:{user:null},error:r};throw r}})}deleteUser(t){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}})}_listFactors(t){return __awaiter$2(this,void 0,void 0,function*(){try{const{data:n,error:r}=yield _request(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield _request(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}})}}const version="2.6.1",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},EXPIRY_MARGIN=10,NETWORK_FAILURE={MAX_RETRIES:10,RETRY_INTERVAL:2},localStorageAdapter={getItem:e=>isBrowser()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{!isBrowser()||globalThis.localStorage.setItem(e,t)},removeItem:e=>{!isBrowser()||globalThis.localStorage.removeItem(e)}};function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS};class GoTrueClient{constructor(t){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const n=Object.assign(Object.assign({},DEFAULT_OPTIONS),t);this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||localStorageAdapter,this.admin=new GoTrueAdminApi({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=resolveFetch(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return __awaiter$1(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=yield this._getSessionFromUrl();if(n)return yield this._removeSession(),{error:n};const{session:r,redirectType:i}=t;return yield this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN",r),i==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",r),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return isAuthError(t)?{error:t}:{error:new AuthUnknownError("Unexpected error during initialization",t)}}finally{this._handleVisibilityChange()}})}signUp(t){var n,r;return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in t){const{email:h,password:c,options:f}=t;i=yield _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:c,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_sessionResponse})}else if("phone"in t){const{phone:h,password:c,options:f}=t;i=yield _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:c,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const a=o.session,l=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(t){var n,r;return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in t){const{email:a,password:l,options:h}=t;i=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_sessionResponse})}else if("phone"in t){const{phone:a,password:l,options:h}=t;i=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:s}=i;return s||!o?{data:{user:null,session:null},error:s}:(o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:s})}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOAuth(t){var n,r,i;return __awaiter$1(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams})})}signInWithOtp(t){var n,r,i,o;return __awaiter$1(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:s,options:a}=t,{error:l}=yield _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=a?.data)!==null&&n!==void 0?n:{},create_user:(r=a?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in t){const{phone:s,options:a}=t,{error:l}=yield _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=a?.data)!==null&&i!==void 0?i:{},create_user:(o=a?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null},error:l}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}verifyOtp(t){var n,r;return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:o}=yield _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:_sessionResponse});if(o)throw o;if(!i)throw"An error occurred on token verification.";const s=i.session,a=i.user;return s?.access_token&&(yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:a,session:s},error:null}}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){var n,r,i;return __awaiter$1(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:_ssoResponse})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}getSession(){return __awaiter$1(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const o=yield getItemAsync(this.storage,this.storageKey);o!==null&&(this._isValidSession(o)?t=o:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:r,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}})}getUser(t){var n,r;return __awaiter$1(this,void 0,void 0,function*(){try{if(!t){const{data:i,error:o}=yield this.getSession();if(o)throw o;t=(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0}return yield _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}})}updateUser(t){return __awaiter$1(this,void 0,void 0,function*(){try{const{data:n,error:r}=yield this.getSession();if(r)throw r;if(!n.session)throw new AuthSessionMissingError;const i=n.session,{data:o,error:s}=yield _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:t,jwt:i.access_token,xform:_userResponse});if(s)throw s;return i.user=o.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}})}_decodeJWT(t){return decodeJWTPayload(t)}setSession(t){return __awaiter$1(this,void 0,void 0,function*(){try{if(!t.access_token||!t.refresh_token)throw new AuthSessionMissingError;const n=Date.now()/1e3;let r=n,i=!0,o=null;const s=decodeJWTPayload(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=yield this.getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},yield this._saveSession(o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(isAuthError(n))return{data:{session:null,user:null},error:n};throw n}})}refreshSession(t){var n;return __awaiter$1(this,void 0,void 0,function*(){try{if(!t){const{data:o,error:s}=yield this.getSession();if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new AuthSessionMissingError;const{session:r,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(isAuthError(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(){return __awaiter$1(this,void 0,void 0,function*(){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(!this._isImplicitGrantFlow())throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");const t=getParameterByName("error_description");if(t){const y=getParameterByName("error_code");if(!y)throw new AuthImplicitGrantRedirectError("No error_code detected.");const v=getParameterByName("error");throw v?new AuthImplicitGrantRedirectError(t,{error:v,code:y}):new AuthImplicitGrantRedirectError("No error detected.")}const n=getParameterByName("provider_token"),r=getParameterByName("provider_refresh_token"),i=getParameterByName("access_token");if(!i)throw new AuthImplicitGrantRedirectError("No access_token detected.");const o=getParameterByName("expires_in");if(!o)throw new AuthImplicitGrantRedirectError("No expires_in detected.");const s=getParameterByName("refresh_token");if(!s)throw new AuthImplicitGrantRedirectError("No refresh_token detected.");const a=getParameterByName("token_type");if(!a)throw new AuthImplicitGrantRedirectError("No token_type detected.");const h=Math.round(Date.now()/1e3)+parseInt(o),{data:c,error:f}=yield this.getUser(i);if(f)throw f;const g=c.user,d={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:parseInt(o),expires_at:h,refresh_token:s,token_type:a,user:g},m=getParameterByName("type");return window.location.hash="",{data:{session:d,redirectType:m},error:null}}catch(t){if(isAuthError(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return isBrowser()&&(Boolean(getParameterByName("access_token"))||Boolean(getParameterByName("error_description")))}signOut(){var t;return __awaiter$1(this,void 0,void 0,function*(){const{data:n,error:r}=yield this.getSession();if(r)return{error:r};const i=(t=n.session)===null||t===void 0?void 0:t.access_token;if(i){const{error:o}=yield this.admin.signOut(i);if(o&&!(isAuthApiError(o)&&(o.status===404||o.status===401)))return{error:o}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const n=uuid(),r={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,r),{data:{subscription:r}}}resetPasswordForEmail(t,n={}){return __awaiter$1(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return __awaiter$1(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_sessionResponse})}catch(n){if(isAuthError(n))return{data:{session:null,user:null},error:n};throw n}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n={}){const r=this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return isBrowser()&&(window.location.href=r),{data:{provider:t,url:r},error:null}}_recoverAndRefresh(){var t;return __awaiter$1(this,void 0,void 0,function*(){try{const n=yield getItemAsync(this.storage,this.storageKey);if(!this._isValidSession(n)){n!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((t=n.expires_at)!==null&&t!==void 0?t:1/0)<r+EXPIRY_MARGIN)if(this.autoRefreshToken&&n.refresh_token){this.networkRetries++;const{error:i}=yield this._callRefreshToken(n.refresh_token);if(i){if(console.log(i.message),i instanceof AuthRetryableFetchError&&this.networkRetries<NETWORK_FAILURE.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(NETWORK_FAILURE.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(n)),this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){console.error(n);return}})}_callRefreshToken(t){var n,r;return __awaiter$1(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Deferred,!t)throw new AuthSessionMissingError;const{data:i,error:o}=yield this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new AuthSessionMissingError;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={session:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(isAuthError(i)){const o={session:null,error:i};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,n){this.stateChangeEmitters.forEach(r=>r.callback(t,n))}_saveSession(t){return __awaiter$1(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t);const n=t.expires_at;if(n){const r=Math.round(Date.now()/1e3),i=n-r,o=i>EXPIRY_MARGIN?EXPIRY_MARGIN:.5;this._startAutoRefreshToken((i-o)*1e3)}this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return setItemAsync(this.storage,this.storageKey,t)}_removeSession(){return __awaiter$1(this,void 0,void 0,function*(){this.persistSession?yield removeItemAsync(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(t<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>__awaiter$1(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:n},error:r}=yield this.getSession();if(!r&&n){const{error:i}=yield this._callRefreshToken(n.refresh_token);i||(this.networkRetries=0),i instanceof AuthRetryableFetchError&&this.networkRetries<NETWORK_FAILURE.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(NETWORK_FAILURE.RETRY_INTERVAL,this.networkRetries)*100)}}),t),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!isBrowser()||!window?.addEventListener)return!1;try{window?.addEventListener("visibilitychange",()=>__awaiter$1(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(t){console.error("_handleVisibilityChange",t)}}_getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),n?.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}_unenroll(t){var n;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield _request(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}})}_enroll(t){var n,r;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:i,error:o}=yield this.getSession();if(o)return{data:null,error:o};const{data:s,error:a}=yield _request(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(!((r=s?.totp)===null||r===void 0)&&r.qr_code&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}})}_verify(t){var n;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:o,error:s}=yield _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}})}_challenge(t){var n;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}})}_challengeAndVerify(t){return __awaiter$1(this,void 0,void 0,function*(){const{data:n,error:r}=yield this._challenge({factorId:t.factorId});return r?{data:null,error:r}:yield this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})})}_listFactors(){return __awaiter$1(this,void 0,void 0,function*(){const{data:{user:t},error:n}=yield this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var t,n;return __awaiter$1(this,void 0,void 0,function*(){const{data:{session:r},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let s=null;o.aal&&(s=o.aal);let a=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const h=o.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:h},error:null}})}}class SupabaseAuthClient extends GoTrueClient{constructor(t){super(t)}}var __awaiter=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{h(r.next(c))}catch(f){s(f)}}function l(c){try{h(r.throw(c))}catch(f){s(f)}}function h(c){c.done?o(c.value):i(c.value).then(a,l)}h((r=r.apply(e,t||[])).next())})};const DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},DEFAULT_REALTIME_OPTIONS={};class SupabaseClient{constructor(t,n,r){var i,o,s,a,l,h,c,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const g=stripTrailingSlash(t);if(this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,g.match(/(supabase\.co)|(supabase\.in)/)){const _=g.split(".");this.functionsUrl=`${_[0]}.functions.${_[1]}.${_[2]}`}else this.functionsUrl=`${g}/functions/v1`;const m=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:m}),global:DEFAULT_GLOBAL_OPTIONS},v=applySettingDefaults(r??{},y);this.storageKey=(o=(i=v.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=v.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=v.auth)!==null&&l!==void 0?l:{},this.headers,(h=v.global)===null||h===void 0?void 0:h.fetch),this.fetch=fetchWithAuth(n,this._getAccessToken.bind(this),(c=v.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new PostgrestClient(`${g}/rest/v1`,{headers:this.headers,schema:(f=v.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return __awaiter(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o},s,a){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},l),s),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,fetch:a})}_initRealtimeClient(t){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,r?.access_token,"CLIENT")})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):(t==="SIGNED_OUT"||t==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const createClient=(e,t,n)=>new SupabaseClient(e,t,n),supabase_url="https://qtiudgyqrmmyhrmiuvbi.supabase.co",anon_key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0aXVkZ3lxcm1teWhybWl1dmJpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzE5NzgxNTgsImV4cCI6MTk4NzU1NDE1OH0._MMZlVwzRWwtkXoMiAOTgptUN2YkaPDuBPZpPnIzGY0",supabase=createClient(supabase_url,anon_key);class StateManager{constructor(){this.initItem=Item("Type :help to get info",0),this.prevState=[],this.initState={items:[this.initItem],log:[],selectedItem:this.initItem.id,theme:"dark",session:null,user:null},this.state=this.initState,this.sidebarMode=()=>"view",this.getItemById=t=>this.state.items.find(n=>n.id==t),[this.state,this.setState]=createLocalStore("state",this.initState),[this.sidebarMode,this.setSidebarMode]=createSignal("view"),createEffect(()=>{this.prevState.push(JSON.stringify(this.state.items))})}async fetchDataFromDatabase(){if(!this.state.user){console.log("User is not authenticated");return}const{data:t}=await supabase.from("user_items").select().eq("user_id",this.state.user.id);console.log("Fetched data:",{data:t}),this.setState("items",t[0].items)}async saveDataToDatabase(){const t=this.state.items;if(!this.state.user){console.log("User is not authenticated");return}const{data:n}=await supabase.from("user_items").upsert({user_id:this.state.user.id,items:t}).select();console.log("Saved data:",{data:n})}getItemIdx(t){return this.state.items.findIndex(n=>n.id==t)}getPrevItemId(t){const n=this.getItemIdx(t),r=this.getItemById(t),i=findLast(this.state.items,(o,s)=>s<n&&o.depth<=r.depth);return i&&!i.expanded?i.id:this.state.items[mod(n-1,this.state.items.length)].id}getNextItemId(t){const n=this.getItemIdx(t),r=this.getItemById(t);if(r.expanded)return this.state.items[mod(n+1,this.state.items.length)].id;{const i=this.state.items.find((o,s)=>s>n&&o.depth<=r.depth);return i?i.id:this.state.items[0].id}}setTitle(t,n){const r=this.getItemIdx(t);this.setState("items",r,"title",n)}currentItem(){return this.getItemById(this.state.selectedItem)}setData(t,n){const r=JSON.parse(n),i=this.getItemIdx(t);this.setState("items",i,o=>({...o,...r}))}}function fetchMetatags(e){return fetch(`https://cors.deno.dev/https://metatags-fetcher.deno.dev/?${e}`).then(t=>t.json())}class Controller{constructor(){this.stateManager=new StateManager}toggleSidebarMode(){this.stateManager.setSidebarMode(this.stateManager.sidebarMode()=="view"?"edit":"view")}selectItem(t){this.stateManager.setState("selectedItem",t)}selectPrevItem(){this.stateManager.setState("selectedItem",t=>this.stateManager.getPrevItemId(t))}selectNextItem(){this.stateManager.setState("selectedItem",t=>this.stateManager.getNextItemId(t))}saveData(){return this.stateManager.saveDataToDatabase()}fetchData(){return this.stateManager.fetchDataFromDatabase()}moveNodeUp(){const t=this.getCurrentItem(),n=t.id,r=this.stateManager.getItemIdx(n),i=this.stateManager.getPrevItemId(n),o=this.stateManager.getItemIdx(i),s=this.stateManager.state.items.slice(0);s.splice(r,1),s.splice(o,0,t),this.stateManager.setState("items",s),this.stateManager.setState("selectedItem",n)}toggleTheme(){this.stateManager.setState("theme",t=>t==="dark"?"light":"dark")}setTitle(t,n){this.stateManager.setTitle(t,n)}moveNodeDown(){const t=this.stateManager.currentItem(),n=t.id,r=this.stateManager.getItemIdx(n),i=this.stateManager.getNextItemId(n),o=this.stateManager.getItemIdx(i),s=this.stateManager.state.items.slice(0);s.splice(r,1),s.splice(o,0,t),this.stateManager.setState("items",s),this.stateManager.setState("selectedItem",n)}moveNodeLeft(){this.stateManager.setState("items",t=>t.id==this.stateManager.currentItem().id,"depth",t=>t-1)}moveNodeRight(){this.stateManager.setState("items",t=>t.id==this.stateManager.currentItem().id,"depth",t=>t+1)}undoAction(){this.stateManager.prevState.pop();const t=JSON.parse(this.stateManager.prevState.pop());this.stateManager.setState("items",t)}toggleNodeStatus(){this.stateManager.setState("items",t=>t.id==this.stateManager.currentItem().id,"done",t=>!t),this.stateManager.currentItem().done==!0&&this.stateManager.setState("items",t=>t.id==this.stateManager.currentItem().id,"doneAt",new Date)}collapseNode(){console.log(this.stateManager.currentItem()),this.stateManager.setState("items",t=>t.id==this.stateManager.currentItem().id,"expanded",t=>!1)}expandNode(){this.stateManager.setState("items",t=>t.id==this.stateManager.currentItem().id,"expanded",t=>!0)}loadInfo(t){const n=this.getCurrentItem();t.match(urlRegex)&&(this.stateManager.setState("items",this.stateManager.getItemIdx(n.id),{...n,title:"Loading..."}),fetchMetatags(t).then(r=>{const i=r.title||r["twitter:title"]||r["og:title"]||t,o=r.description||r["twitter:description"]||r["og:description"],s={title:i,description:o,link:t};this.stateManager.setState("items",this.stateManager.getItemIdx(n.id),{...n,...s})}))}createNode(t){let n;const r=this.getCurrentItem();t?n=r.depth+1:n=r.depth;const i=this.stateManager.state.items.slice(0);let o=this.stateManager.getItemIdx(this.stateManager.getNextItemId(r.id));o==0&&(o=this.stateManager.state.items.length);const s=Item("",n);i.splice(o,0,s),this.stateManager.setState("items",i),this.stateManager.setState("selectedItem",a=>this.stateManager.getNextItemId(a))}deleteNode(){const t=this.stateManager.state.items.slice(0);t.splice(this.stateManager.getItemIdx(this.getCurrentItem().id),1),this.stateManager.setState("selectedItem",n=>this.stateManager.getPrevItemId(n)),this.stateManager.setState("items",t)}getCurrentItem(){return this.stateManager.currentItem()}setNodeData(t,n){this.stateManager.setData(t,n)}getTree(){let t=Item("root",-1);const n=this.stateManager.state.items.map(i=>deepCopy(i)),r=[t];for(const i of n){for(;last(r).depth>=i.depth;)r.pop();const o=last(r);o.children.push(i),i.parent=o,r.push(i)}return t.children}bulkInsert(t){const n=this.getCurrentItem();let r=n.depth;const i=this.stateManager.state.items.slice(0),o=this.stateManager.getItemIdx(n.id),s=t.map(a=>Item(a,r));i.splice(o,0,...s),this.stateManager.setState("items",i),this.stateManager.setState("selectedItem",n.id)}setUser(t){this.stateManager.setState("session",t.data.session),this.stateManager.setState("user",t.data.user)}setContent(t,n){this.stateManager.setState("items",r=>r.id==t,"content",n)}}function splice$1(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),[].splice.apply(e,s);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),[].splice.apply(e,s),o+=1e4,t+=1e4}const hasOwnProperty$1={}.hasOwnProperty;function combineExtensions$1(e){const t={};let n=-1;for(;++n<e.length;)syntaxExtension$1(t,e[n]);return t}function syntaxExtension$1(e,t){let n;for(n in t){const i=(hasOwnProperty$1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;for(s in o){hasOwnProperty$1.call(i,s)||(i[s]=[]);const a=o[s];constructs$1(i[s],Array.isArray(a)?a:a?[a]:[])}}}function constructs$1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);splice$1(e,0,0,r)}const unicodePunctuationRegex$1=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,asciiAlpha$1=regexCheck$1(/[A-Za-z]/),asciiDigit$1=regexCheck$1(/\d/),asciiAlphanumeric$1=regexCheck$1(/[\dA-Za-z]/);function asciiControl$1(e){return e!==null&&(e<32||e===127)}function markdownLineEndingOrSpace$1(e){return e!==null&&(e<0||e===32)}function markdownLineEnding$1(e){return e!==null&&e<-2}function markdownSpace$1(e){return e===-2||e===-1||e===32}const unicodeWhitespace$1=regexCheck$1(/\s/),unicodePunctuation$1=regexCheck$1(unicodePunctuationRegex$1);function regexCheck$1(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}const www={tokenize:tokenizeWww,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path$1={tokenize:tokenizePath,partial:!0},punctuation={tokenize:tokenizePunctuation,partial:!0},namedCharacterReference={tokenize:tokenizeNamedCharacterReference,partial:!0},wwwAutolink={tokenize:tokenizeWwwAutolink,previous:previousWww},httpAutolink={tokenize:tokenizeHttpAutolink,previous:previousHttp},emailAutolink={tokenize:tokenizeEmailAutolink,previous:previousEmail},text$1={},gfmAutolinkLiteral={text:text$1};let code$1=48;for(;code$1<123;)text$1[code$1]=emailAutolink,code$1++,code$1===58?code$1=65:code$1===91&&(code$1=97);text$1[43]=emailAutolink;text$1[45]=emailAutolink;text$1[46]=emailAutolink;text$1[95]=emailAutolink;text$1[72]=[emailAutolink,httpAutolink];text$1[104]=[emailAutolink,httpAutolink];text$1[87]=[emailAutolink,wwwAutolink];text$1[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,t,n){const r=this;let i,o;return s;function s(d){return!gfmAtext(d)||!previousEmail(r.previous)||previousUnbalanced(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return gfmAtext(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(punctuation,g,h)(d):d===45||d===95?e.check(punctuation,n,c)(d):asciiAlphanumeric$1(d)?(!o&&asciiDigit$1(d)&&(o=!0),e.consume(d),l):g(d)}function h(d){return e.consume(d),i=!0,o=void 0,l}function c(d){return e.consume(d),f}function f(d){return d===46?e.check(punctuation,n,h)(d):l(d)}function g(d){return i&&!o?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function tokenizeWwwAutolink(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!previousWww(r.previous)||previousUnbalanced(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(www,e.attempt(domain,e.attempt(path$1,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function tokenizeHttpAutolink(e,t,n){const r=this;return i;function i(m){return m!==72&&m!==104||!previousHttp(r.previous)||previousUnbalanced(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),e.consume(m),o)}function o(m){return m===84||m===116?(e.consume(m),s):n(m)}function s(m){return m===84||m===116?(e.consume(m),a):n(m)}function a(m){return m===80||m===112?(e.consume(m),l):n(m)}function l(m){return m===83||m===115?(e.consume(m),h):h(m)}function h(m){return m===58?(e.consume(m),c):n(m)}function c(m){return m===47?(e.consume(m),f):n(m)}function f(m){return m===47?(e.consume(m),g):n(m)}function g(m){return m===null||asciiControl$1(m)||unicodeWhitespace$1(m)||unicodePunctuation$1(m)?n(m):e.attempt(domain,e.attempt(path$1,d),n)(m)}function d(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function tokenizeWww(e,t,n){return r;function r(l){return e.consume(l),i}function i(l){return l===87||l===119?(e.consume(l),o):n(l)}function o(l){return l===87||l===119?(e.consume(l),s):n(l)}function s(l){return l===46?(e.consume(l),a):n(l)}function a(l){return l===null||markdownLineEnding$1(l)?n(l):t(l)}}function tokenizeDomain(e,t,n){let r,i;return o;function o(l){return l===38?e.check(namedCharacterReference,a,s)(l):l===46||l===95?e.check(punctuation,a,s)(l):l===null||asciiControl$1(l)||unicodeWhitespace$1(l)||l!==45&&unicodePunctuation$1(l)?a(l):(e.consume(l),o)}function s(l){return l===46?(i=r,r=void 0,e.consume(l),o):(l===95&&(r=!0),e.consume(l),o)}function a(l){return!i&&!r?t(l):n(l)}}function tokenizePath(e,t){let n=0;return r;function r(s){return s===38?e.check(namedCharacterReference,t,i)(s):(s===40&&n++,s===41?e.check(punctuation,o,i)(s):pathEnd(s)?t(s):trailingPunctuation(s)?e.check(punctuation,t,i)(s):(e.consume(s),r))}function i(s){return e.consume(s),r}function o(s){return n--,n<0?t(s):i(s)}}function tokenizeNamedCharacterReference(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return asciiAlpha$1(s)?(e.consume(s),i):s===59?(e.consume(s),o):n(s)}function o(s){return pathEnd(s)?t(s):n(s)}}function tokenizePunctuation(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return trailingPunctuation(o)?(e.consume(o),i):pathEnd(o)?t(o):n(o)}}function trailingPunctuation(e){return e===33||e===34||e===39||e===41||e===42||e===44||e===46||e===58||e===59||e===60||e===63||e===95||e===126}function pathEnd(e){return e===null||e===60||markdownLineEndingOrSpace$1(e)}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric$1(e)}function previousWww(e){return e===null||e===40||e===42||e===95||e===126||markdownLineEndingOrSpace$1(e)}function previousHttp(e){return e===null||!asciiAlpha$1(e)}function previousEmail(e){return e!==47&&previousHttp(e)}function previousUnbalanced(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function classifyCharacter$1(e){if(e===null||markdownLineEndingOrSpace$1(e)||unicodeWhitespace$1(e))return 1;if(unicodePunctuation$1(e))return 2}function resolveAll$1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function factorySpace$1(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return markdownSpace$1(l)?(e.enter(n),a(l)):t(l)}function a(l){return markdownSpace$1(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const blankLine$1={tokenize:tokenizeBlankLine$1,partial:!0};function tokenizeBlankLine$1(e,t,n){return factorySpace$1(e,r,"linePrefix");function r(i){return i===null||markdownLineEnding$1(i)?t(i):n(i)}}const element$1=document.createElement("i");function decodeNamedCharacterReference$1(e){const t="&"+e+";";element$1.innerHTML=t;const n=element$1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function normalizeIdentifier$1(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const indent={tokenize:tokenizeIndent$1,partial:!0};function gfmFootnote(){return{document:{[91]:{tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{[91]:{tokenize:tokenizeGfmFootnoteCall},[93]:{add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const h=normalizeIdentifier$1(r.sliceSerialize({start:s.end,end:r.now()}));return h.charCodeAt(0)!==94||!o.includes(h.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function resolveToPotentialGfmFootnoteCall(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function tokenizeGfmFootnoteCall(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),l}function l(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(g){let d;return g===null||g===91||o++>999?n(g):g===93?s?(e.exit("chunkString"),d=e.exit("gfmFootnoteCallString"),i.includes(normalizeIdentifier$1(r.sliceSerialize(d)))?f(g):n(g)):n(g):(e.consume(g),markdownLineEndingOrSpace$1(g)||(s=!0),g===92?c:h)}function c(g){return g===91||g===92||g===93?(e.consume(g),o++,h):h(g)}function f(g){return e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t}}function tokenizeDefinitionStart(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),c):n(y)}function c(y){let v;return y===null||y===91||s>999?n(y):y===93?a?(v=e.exit("gfmFootnoteDefinitionLabelString"),o=normalizeIdentifier$1(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d):n(y):markdownLineEnding$1(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),s++,c):(e.enter("chunkString").contentType="string",f(y))}function f(y){return y===null||markdownLineEnding$1(y)||y===91||y===93||s>999?(e.exit("chunkString"),c(y)):(markdownLineEndingOrSpace$1(y)||(a=!0),s++,e.consume(y),y===92?g:f)}function g(y){return y===91||y===92||y===93?(e.consume(y),s++,f):f(y)}function d(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),factorySpace$1(e,m,"gfmFootnoteDefinitionWhitespace")):n(y)}function m(y){return i.includes(o)||i.push(o),t(y)}}function tokenizeDefinitionContinuation(e,t,n){return e.check(blankLine$1,t,e.attempt(indent,t,n))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent$1(e,t,n){const r=this;return factorySpace$1(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function gfmStrikethrough(e={}){let t=e.singleTilde;const n={tokenize:i,resolveAll:r};return t==null&&(t=!0),{text:{[126]:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(o,s){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let l=a;for(;l--;)if(o[l][0]==="exit"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[l][1].end.offset-o[l][1].start.offset){o[a][1].type="strikethroughSequence",o[l][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[l][1].start),end:Object.assign({},o[a][1].end)},c={type:"strikethroughText",start:Object.assign({},o[l][1].end),end:Object.assign({},o[a][1].start)},f=[["enter",h,s],["enter",o[l][1],s],["exit",o[l][1],s],["enter",c,s]];splice$1(f,f.length,0,resolveAll$1(s.parser.constructs.insideSpan.null,o.slice(l+1,a),s)),splice$1(f,f.length,0,[["exit",c,s],["enter",o[a][1],s],["exit",o[a][1],s],["exit",h,s]]),splice$1(o,l-1,a-l+3,f),a=l+f.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function i(o,s,a){const l=this.previous,h=this.events;let c=0;return f;function f(d){return l===126&&h[h.length-1][1].type!=="characterEscape"?a(d):(o.enter("strikethroughSequenceTemporary"),g(d))}function g(d){const m=classifyCharacter$1(l);if(d===126)return c>1?a(d):(o.consume(d),c++,g);if(c<2&&!t)return a(d);const y=o.exit("strikethroughSequenceTemporary"),v=classifyCharacter$1(d);return y._open=!v||v===2&&Boolean(m),y._close=!m||m===2&&Boolean(v),s(d)}}}const gfmTable={flow:{null:{tokenize:tokenizeTable,resolve:resolveTable}}},nextPrefixedOrBlank={tokenize:tokenizeNextPrefixedOrBlank,partial:!0};function resolveTable(e,t){let n=-1,r,i,o,s,a,l,h;for(;++n<e.length;){const c=e[n][1];if(o&&(c.type==="temporaryTableCellContent"&&(s=s||n,a=n),(c.type==="tableCellDivider"||c.type==="tableRow")&&a)){const f={type:"tableContent",start:e[s][1].start,end:e[a][1].end},g={type:"chunkText",start:f.start,end:f.end,contentType:"text"};e.splice(s,a-s+1,["enter",f,t],["enter",g,t],["exit",g,t],["exit",f,t]),n-=a-s-3,s=void 0,a=void 0}if(e[n][0]==="exit"&&l!==void 0&&l+(h?0:1)<n&&(c.type==="tableCellDivider"||c.type==="tableRow"&&(l+3<n||e[l][1].type!=="whitespace"))){const f={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:e[l][1].start,end:e[n][1].end};e.splice(n+(c.type==="tableCellDivider"?1:0),0,["exit",f,t]),e.splice(l,0,["enter",f,t]),n+=2,l=n+1,h=!0}c.type==="tableRow"&&(o=e[n][0]==="enter",o&&(l=n+1,h=!1)),c.type==="tableDelimiterRow"&&(i=e[n][0]==="enter",i&&(l=n+1,h=!1)),c.type==="tableHead"&&(r=e[n][0]==="enter")}return e}function tokenizeTable(e,t,n){const r=this,i=[];let o=0,s,a;return l;function l(k){return e.enter("table")._align=i,e.enter("tableHead"),e.enter("tableRow"),k===124?h(k):(o++,e.enter("temporaryTableCellContent"),g(k))}function h(k){return e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),s=!0,c}function c(k){return k===null||markdownLineEnding$1(k)?m(k):markdownSpace$1(k)?(e.enter("whitespace"),e.consume(k),f):(s&&(s=void 0,o++),k===124?h(k):(e.enter("temporaryTableCellContent"),g(k)))}function f(k){return markdownSpace$1(k)?(e.consume(k),f):(e.exit("whitespace"),c(k))}function g(k){return k===null||k===124||markdownLineEndingOrSpace$1(k)?(e.exit("temporaryTableCellContent"),c(k)):(e.consume(k),k===92?d:g)}function d(k){return k===92||k===124?(e.consume(k),g):g(k)}function m(k){if(k===null)return n(k);e.exit("tableRow"),e.exit("tableHead");const M=r.interrupt;return r.interrupt=!0,e.attempt({tokenize:A,partial:!0},function(N){return r.interrupt=M,e.enter("tableDelimiterRow"),y(N)},function(N){return r.interrupt=M,n(N)})(k)}function y(k){return k===null||markdownLineEnding$1(k)?O(k):markdownSpace$1(k)?(e.enter("whitespace"),e.consume(k),v):k===45?(e.enter("tableDelimiterFiller"),e.consume(k),a=!0,i.push("none"),_):k===58?(e.enter("tableDelimiterAlignment"),e.consume(k),e.exit("tableDelimiterAlignment"),i.push("left"),T):k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),y):n(k)}function v(k){return markdownSpace$1(k)?(e.consume(k),v):(e.exit("whitespace"),y(k))}function _(k){return k===45?(e.consume(k),_):(e.exit("tableDelimiterFiller"),k===58?(e.enter("tableDelimiterAlignment"),e.consume(k),e.exit("tableDelimiterAlignment"),i[i.length-1]=i[i.length-1]==="left"?"center":"right",C):y(k))}function T(k){return k===45?(e.enter("tableDelimiterFiller"),e.consume(k),a=!0,_):n(k)}function C(k){return k===null||markdownLineEnding$1(k)?O(k):markdownSpace$1(k)?(e.enter("whitespace"),e.consume(k),v):k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),y):n(k)}function O(k){return e.exit("tableDelimiterRow"),!a||o!==i.length?n(k):k===null?$(k):e.check(nextPrefixedOrBlank,$,e.attempt({tokenize:A,partial:!0},factorySpace$1(e,E,"linePrefix",4),$))(k)}function $(k){return e.exit("table"),t(k)}function E(k){return e.enter("tableBody"),F(k)}function F(k){return e.enter("tableRow"),k===124?R(k):(e.enter("temporaryTableCellContent"),P(k))}function R(k){return e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),j}function j(k){return k===null||markdownLineEnding$1(k)?D(k):markdownSpace$1(k)?(e.enter("whitespace"),e.consume(k),H):k===124?R(k):(e.enter("temporaryTableCellContent"),P(k))}function H(k){return markdownSpace$1(k)?(e.consume(k),H):(e.exit("whitespace"),j(k))}function P(k){return k===null||k===124||markdownLineEndingOrSpace$1(k)?(e.exit("temporaryTableCellContent"),j(k)):(e.consume(k),k===92?L:P)}function L(k){return k===92||k===124?(e.consume(k),P):P(k)}function D(k){return e.exit("tableRow"),k===null?x(k):e.check(nextPrefixedOrBlank,x,e.attempt({tokenize:A,partial:!0},factorySpace$1(e,F,"linePrefix",4),x))(k)}function x(k){return e.exit("tableBody"),$(k)}function A(k,M,N){return z;function z(b){return k.enter("lineEnding"),k.consume(b),k.exit("lineEnding"),factorySpace$1(k,q,"linePrefix")}function q(b){if(r.parser.lazy[r.now().line]||b===null||markdownLineEnding$1(b))return N(b);const w=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?N(b):(r._gfmTableDynamicInterruptHack=!0,k.check(r.parser.constructs.flow,function(X){return r._gfmTableDynamicInterruptHack=!1,N(X)},function(X){return r._gfmTableDynamicInterruptHack=!1,M(X)})(b))}}}function tokenizeNextPrefixedOrBlank(e,t,n){let r=0;return i;function i(s){return e.enter("check"),e.consume(s),o}function o(s){return s===-1||s===32?(e.consume(s),r++,r===4?t:o):s===null||markdownLineEndingOrSpace$1(s)?t(s):n(s)}}const tasklistCheck={tokenize:tokenizeTasklistCheck},gfmTaskListItem={text:{[91]:tasklistCheck}};function tokenizeTasklistCheck(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),o)}function o(a){return markdownLineEndingOrSpace$1(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),s):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),s):n(a)}function s(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),e.check({tokenize:spaceThenNonSpace},t,n)):n(a)}}function spaceThenNonSpace(e,t,n){const r=this;return factorySpace$1(e,i,"whitespace");function i(o){const s=r.events[r.events.length-1];return(s&&s[1].type==="whitespace"||markdownLineEnding$1(o))&&o!==null?t(o):n(o)}}function gfm(e){return combineExtensions$1([gfmAutolinkLiteral,gfmFootnote(),gfmStrikethrough(e),gfmTable,gfmTaskListItem])}function ccount(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const convert$1=function(e){if(e==null)return ok$1;if(typeof e=="string")return typeFactory$1(e);if(typeof e=="object")return Array.isArray(e)?anyFactory$1(e):propsFactory$1(e);if(typeof e=="function")return castFactory$1(e);throw new Error("Expected function, string, or object as test")};function anyFactory$1(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=convert$1(e[n]);return castFactory$1(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function propsFactory$1(e){return castFactory$1(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function typeFactory$1(e){return castFactory$1(t);function t(n){return n&&n.type===e}}function castFactory$1(e){return t;function t(...n){return Boolean(e.call(this,...n))}}function ok$1(){return!0}function color$1(e){return e}const CONTINUE$1=!0,SKIP$1="skip",EXIT$1=!1,visitParents$1=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=convert$1(t),o=r?-1:1;s(e,null,[])();function s(a,l,h){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),g;function g(){let d=[],m,y,v;if((!t||i(a,l,h[h.length-1]||null))&&(d=toResult$1(n(a,h)),d[0]===EXIT$1))return d;if(a.children&&d[0]!==SKIP$1)for(y=(r?a.children.length:-1)+o,v=h.concat(a);y>-1&&y<a.children.length;){if(m=s(a.children[y],y,v)(),m[0]===EXIT$1)return m;y=typeof m[1]=="number"?m[1]:y+o}return d}}};function toResult$1(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE$1,e]:[e]}const own$1={}.hasOwnProperty,findAndReplace=function(e,t,n,r){let i,o;typeof t=="string"||t instanceof RegExp?(o=[[t,n]],i=r):(o=t,i=n),i||(i={});const s=convert$1(i.ignore||[]),a=toPairs(o);let l=-1;for(;++l<a.length;)visitParents$1(e,"text",h);return e;function h(f,g){let d=-1,m;for(;++d<g.length;){const y=g[d];if(s(y,m?m.children.indexOf(y):void 0,m))return;m=y}if(m)return c(f,g)}function c(f,g){const d=g[g.length-1],m=a[l][0],y=a[l][1];let v=0;const _=d.children.indexOf(f);let T=!1,C=[],O;m.lastIndex=0;let $=m.exec(f.value);for(;$;){O=$.index;const E={index:$.index,input:$.input,stack:[...g,f]};let F=y(...$,E);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F!==!1&&(v!==O&&C.push({type:"text",value:f.value.slice(v,O)}),Array.isArray(F)?C.push(...F):F&&C.push(F),v=O+$[0].length,T=!0),!m.global)break;$=m.exec(f.value)}return T?(v<f.value.length&&C.push({type:"text",value:f.value.slice(v)}),d.children.splice(_,1,...C)):C=[f],_+C.length}};function toPairs(e){const t=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([toExpression(e[n][0]),toFunction(e[n][1])])}else{let n;for(n in e)own$1.call(e,n)&&t.push([toExpression(n),toFunction(e[n])])}return t}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:()=>e}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"],gfmAutolinkLiteralFromMarkdown={transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},gfmAutolinkLiteralToMarkdown={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]};function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,t,n,r,i){let o="";if(!previous$1(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!isCorrectDomain(n)))return!1;const s=splitUrl(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function findEmail(e,t,n,r){return!previous$1(r,!0)||/[_-\d]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function isCorrectDomain(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function splitUrl(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);let n,r,i,o;if(t)for(e=e.slice(0,t.index),o=t[0],n=o.indexOf(")"),r=ccount(e,"("),i=ccount(e,")");n!==-1&&r>i;)e+=o.slice(0,n+1),o=o.slice(n+1),n=o.indexOf(")"),i++;return[e,o]}function previous$1(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace$1(n)||unicodePunctuation$1(n))&&(!t||n!==47)}function decodeNumericCharacterReference$1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}const characterEscapeOrReference$1=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString$1(e){return e.replace(characterEscapeOrReference$1,decode$1)}function decode$1(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return decodeNumericCharacterReference$1(n.slice(o?2:1),o?16:10)}return decodeNamedCharacterReference$1(n)||e}function association(e){return e.label||!e.identifier?e.label||"":decodeString$1(e.identifier)}function track(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(h){r+=h}function l(h=""){const c=h.split(/\r?\n|\r/g),f=c[c.length-1];return i+=c.length-1,o=c.length===1?o+f.length:1+f.length+r,h}}function containerFlow(e,t,n){const r=t.indexStack,i=e.children||[],o=track(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const h=i[a];r[r.length-1]=a,s.push(o.move(t.handle(h,e,t,{before:`
`,after:`
`,...o.current()}))),h.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(l(h,i[a+1])))}return r.pop(),s.join("");function l(h,c){let f=t.join.length;for(;f--;){const g=t.join[f](h,c,e,t);if(g===!0||g===1)break;if(typeof g=="number")return`
`.repeat(1+g);if(g===!1)return`

<!---->

`}return`

`}}const eol=/\r?\n|\r/g;function indentLines(e,t){const n=[];let r=0,i=0,o;for(;o=eol.exec(e);)s(e.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(e.slice(r)),n.join("");function s(a){n.push(t(a,i,!a))}}function patternCompile(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function patternInScope(e,t){return listInScope(e,t.inConstruct,!0)&&!listInScope(e,t.notInConstruct,!1)}function listInScope(e,t,n){if(!t)return n;typeof t=="string"&&(t=[t]);let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function safe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],o=[],s={};let a=-1;for(;++a<e.unsafe.length;){const c=e.unsafe[a];if(!patternInScope(e.stack,c))continue;const f=patternCompile(c);let g;for(;g=f.exec(r);){const d="before"in c||Boolean(c.atBreak),m="after"in c,y=g.index+(d?g[1].length:0);i.includes(y)?(s[y].before&&!d&&(s[y].before=!1),s[y].after&&!m&&(s[y].after=!1)):(i.push(y),s[y]={before:d,after:m})}}i.sort(numerical);let l=n.before?n.before.length:0;const h=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const c=i[a];c<l||c>=h||c+1<h&&i[a+1]===c+1&&s[c].after&&!s[c+1].before&&!s[c+1].after||i[a-1]===c-1&&s[c].before&&!s[c-1].before&&!s[c-1].after||(l!==c&&o.push(escapeBackslashes(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(c).toString(16).toUpperCase()+";"),l++))}return o.push(escapeBackslashes(r.slice(l,h),n.after)),o.join("")}function numerical(e,t){return e-t}function escapeBackslashes(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+t;let s=-1,a=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++s<r.length;)a!==r[s]&&i.push(e.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(e.slice(a)),i.join("")}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteDefinition:e,gfmFootnoteDefinitionLabelString:t,gfmFootnoteCall:i,gfmFootnoteCallString:o},exit:{gfmFootnoteDefinition:r,gfmFootnoteDefinitionLabelString:n,gfmFootnoteCall:a,gfmFootnoteCallString:s}};function e(l){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},l)}function t(){this.buffer()}function n(l){const h=this.resume(),c=this.stack[this.stack.length-1];c.label=h,c.identifier=normalizeIdentifier$1(this.sliceSerialize(l)).toLowerCase()}function r(l){this.exit(l)}function i(l){this.enter({type:"footnoteReference",identifier:"",label:""},l)}function o(){this.buffer()}function s(l){const h=this.resume(),c=this.stack[this.stack.length-1];c.label=h,c.identifier=normalizeIdentifier$1(this.sliceSerialize(l)).toLowerCase()}function a(l){this.exit(l)}}function gfmFootnoteToMarkdown(){return e.peek=t,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:n,footnoteReference:e}};function e(r,i,o,s){const a=track(s);let l=a.move("[^");const h=o.enter("footnoteReference"),c=o.enter("reference");return l+=a.move(safe(o,association(r),{...a.current(),before:l,after:"]"})),c(),h(),l+=a.move("]"),l}function t(){return"["}function n(r,i,o,s){const a=track(s);let l=a.move("[^");const h=o.enter("footnoteDefinition"),c=o.enter("label");return l+=a.move(safe(o,association(r),{...a.current(),before:l,after:"]"})),c(),l+=a.move("]:"+(r.children&&r.children.length>0?" ":"")),a.shift(4),l+=a.move(indentLines(containerFlow(r,o,a.current()),f)),h(),l;function f(g,d,m){return d?(m?"":"    ")+g:g}}}function containerPhrasing(e,t,n){const r=t.indexStack,i=e.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=track(n);for(;++s<i.length;){const h=i[s];let c;if(r[r.length-1]=s,s+1<i.length){let f=t.handle.handlers[i[s+1].type];f&&f.peek&&(f=f.peek),c=f?f(i[s+1],e,t,{before:"",after:"",...l.current()}).charAt(0):""}else c=n.after;o.length>0&&(a==="\r"||a===`
`)&&h.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=track(n),l.move(o.join(""))),o.push(l.move(t.handle(h,e,t,{...l.current(),before:a,after:c}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}const gfmStrikethroughFromMarkdown={canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],gfmStrikethroughToMarkdown={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}};handleDelete.peek=peekDelete;function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,t,n,r){const i=track(r),o=n.enter("emphasis");let s=i.move("~~");return s+=containerPhrasing(e,n,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function peekDelete(){return"~"}inlineCode$1.peek=inlineCodePeek;function inlineCode$1(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=patternCompile(s);let l;if(!!s.atBreak)for(;l=a.exec(r);){let h=l.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(l.index+1)}}return i+r+i}function inlineCodePeek(){return"`"}function markdownTable(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||defaultStringLength,i=[],o=[],s=[],a=[];let l=0,h=-1;for(;++h<e.length;){const m=[],y=[];let v=-1;for(e[h].length>l&&(l=e[h].length);++v<e[h].length;){const _=serialize(e[h][v]);if(t.alignDelimiters!==!1){const T=r(_);y[v]=T,(a[v]===void 0||T>a[v])&&(a[v]=T)}m.push(_)}o[h]=m,s[h]=y}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=toAlignment(n[c]);else{const m=toAlignment(n);for(;++c<l;)i[c]=m}c=-1;const f=[],g=[];for(;++c<l;){const m=i[c];let y="",v="";m===99?(y=":",v=":"):m===108?y=":":m===114&&(v=":");let _=t.alignDelimiters===!1?1:Math.max(1,a[c]-y.length-v.length);const T=y+"-".repeat(_)+v;t.alignDelimiters!==!1&&(_=y.length+_+v.length,_>a[c]&&(a[c]=_),g[c]=_),f[c]=T}o.splice(1,0,f),s.splice(1,0,g),h=-1;const d=[];for(;++h<o.length;){const m=o[h],y=s[h];c=-1;const v=[];for(;++c<l;){const _=m[c]||"";let T="",C="";if(t.alignDelimiters!==!1){const O=a[c]-(y[c]||0),$=i[c];$===114?T=" ".repeat(O):$===99?O%2?(T=" ".repeat(O/2+.5),C=" ".repeat(O/2-.5)):(T=" ".repeat(O/2),C=T):C=" ".repeat(O)}t.delimiterStart!==!1&&!c&&v.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&_==="")&&(t.delimiterStart!==!1||c)&&v.push(" "),t.alignDelimiters!==!1&&v.push(T),v.push(_),t.alignDelimiters!==!1&&v.push(C),t.padding!==!1&&v.push(" "),(t.delimiterEnd!==!1||c!==l-1)&&v.push("|")}d.push(t.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return d.join(`
`)}function serialize(e){return e==null?"":String(e)}function defaultStringLength(e){return e.length}function toAlignment(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const gfmTableFromMarkdown={enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit$1,tableHeader:exit$1,tableRow:exit$1}};function enterTable(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)}function exitTable(e){this.exit(e),this.setData("inTable")}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit$1(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,replace));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)}function replace(e,t){return t==="|"?t:e}function gfmTableToMarkdown(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:s,tableRow:a,tableCell:l,inlineCode:g}};function s(d,m,y,v){return h(c(d,y,v),d.align)}function a(d,m,y,v){const _=f(d,y,v),T=h([_]);return T.slice(0,T.indexOf(`
`))}function l(d,m,y,v){const _=y.enter("tableCell"),T=y.enter("phrasing"),C=containerPhrasing(d,y,{...v,before:o,after:o});return T(),_(),C}function h(d,m){return markdownTable(d,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function c(d,m,y){const v=d.children;let _=-1;const T=[],C=m.enter("table");for(;++_<v.length;)T[_]=f(v[_],m,y);return C(),T}function f(d,m,y){const v=d.children;let _=-1;const T=[],C=m.enter("tableRow");for(;++_<v.length;)T[_]=l(v[_],d,m,y);return C(),T}function g(d,m,y){let v=inlineCode$1(d,m,y);return y.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function checkBullet(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function checkListItemIndent(e){const t=e.options.listItemIndent||"tab";if(t===1||t==="1")return"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function listItem$1(e,t,n,r){const i=checkListItemIndent(n);let o=n.bulletCurrent||checkBullet(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=track(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),h=indentLines(containerFlow(e,n,a.current()),c);return l(),h;function c(f,g,d){return g?(d?"":" ".repeat(s))+f:(d?o:o+" ".repeat(s-o.length))+f}}const gfmTaskListItemFromMarkdown={exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}},gfmTaskListItemToMarkdown={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}};function exitCheck(e){const t=this.stack[this.stack.length-2];t.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const t=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],r=t.children,i=n.children[0];let o=-1,s;if(t&&t.type==="listItem"&&typeof t.checked=="boolean"&&i&&i.type==="text"){for(;++o<r.length;){const a=r[o];if(a.type==="paragraph"){s=a;break}}s===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}this.exit(e)}function listItemWithTaskListItem(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=track(r);o&&a.move(s);let l=listItem$1(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),l;function h(c){return c+s}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown,gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown,gfmTableFromMarkdown,gfmTaskListItemFromMarkdown]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown,gfmFootnoteToMarkdown(),gfmStrikethroughToMarkdown,gfmTableToMarkdown(e),gfmTaskListItemToMarkdown]}}function remarkGfm(e={}){const t=this.data();n("micromarkExtensions",gfm(e)),n("fromMarkdownExtensions",gfmFromMarkdown()),n("toMarkdownExtensions",gfmToMarkdown(e));function n(r,i){(t[r]?t[r]:t[r]=[]).push(i)}}const _tmpl$$3=template("<div></div>");var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__export=(e,t)=>{for(var n in t)__defProp(e,n,{get:t[n],enumerable:!0})},__copyProps=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of __getOwnPropNames(t))!__hasOwnProp.call(e,i)&&i!==n&&__defProp(e,i,{get:()=>t[i],enumerable:!(r=__getOwnPropDesc(t,i))||r.enumerable});return e},__toESM=(e,t,n)=>(n=e!=null?__create(__getProtoOf(e)):{},__copyProps(t||!e||!e.__esModule?__defProp(n,"default",{value:e,enumerable:!0}):n,e)),require_encode=__commonJS({"node_modules/mdurl/encode.js"(e,t){var n={};function r(o){var s,a,l=n[o];if(l)return l;for(l=n[o]=[],s=0;s<128;s++)a=String.fromCharCode(s),/^[0-9a-z]$/i.test(a)?l.push(a):l.push("%"+("0"+s.toString(16).toUpperCase()).slice(-2));for(s=0;s<o.length;s++)l[o.charCodeAt(s)]=o[s];return l}function i(o,s,a){var l,h,c,f,g,d="";for(typeof s!="string"&&(a=s,s=i.defaultChars),typeof a>"u"&&(a=!0),g=r(s),l=0,h=o.length;l<h;l++){if(c=o.charCodeAt(l),a&&c===37&&l+2<h&&/^[0-9a-f]{2}$/i.test(o.slice(l+1,l+3))){d+=o.slice(l,l+3),l+=2;continue}if(c<128){d+=g[c];continue}if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&l+1<h&&(f=o.charCodeAt(l+1),f>=56320&&f<=57343)){d+=encodeURIComponent(o[l]+o[l+1]),l++;continue}d+="%EF%BF%BD";continue}d+=encodeURIComponent(o[l])}return d}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",t.exports=i}}),require_is_buffer=__commonJS({"node_modules/is-buffer/index.js"(e,t){t.exports=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}}}),require_extend=__commonJS({"node_modules/extend/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):r.call(f)==="[object Array]"},a=function(f){if(!f||r.call(f)!=="[object Object]")return!1;var g=n.call(f,"constructor"),d=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!d)return!1;var m;for(m in f);return typeof m>"u"||n.call(f,m)},l=function(f,g){i&&g.name==="__proto__"?i(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},h=function(f,g){if(g==="__proto__")if(n.call(f,g)){if(o)return o(f,g).value}else return;return f[g]};t.exports=function c(){var f,g,d,m,y,v,_=arguments[0],T=1,C=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},T=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});T<C;++T)if(f=arguments[T],f!=null)for(g in f)d=h(_,g),m=h(f,g),_!==m&&(O&&m&&(a(m)||(y=s(m)))?(y?(y=!1,v=d&&s(d)?d:[]):v=d&&a(d)?d:{},l(_,{name:g,newValue:c(O,v,m)})):typeof m<"u"&&l(_,{name:g,newValue:m}));return _}}}),require_inline_style_parser=__commonJS({"node_modules/inline-style-parser/index.js"(e,t){var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,h=/^\s+|\s+$/g,c=`
`,f="/",g="*",d="",m="comment",y="declaration";t.exports=function(_,T){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];T=T||{};var C=1,O=1;function $(A){var k=A.match(r);k&&(C+=k.length);var M=A.lastIndexOf(c);O=~M?A.length-M:O+A.length}function E(){var A={line:C,column:O};return function(k){return k.position=new F(A),H(),k}}function F(A){this.start=A,this.end={line:C,column:O},this.source=T.source}F.prototype.content=_;function R(A){var k=new Error(T.source+":"+C+":"+O+": "+A);if(k.reason=A,k.filename=T.source,k.line=C,k.column=O,k.source=_,!T.silent)throw k}function j(A){var k=A.exec(_);if(!!k){var M=k[0];return $(M),_=_.slice(M.length),k}}function H(){j(i)}function P(A){var k;for(A=A||[];k=L();)k!==!1&&A.push(k);return A}function L(){var A=E();if(!(f!=_.charAt(0)||g!=_.charAt(1))){for(var k=2;d!=_.charAt(k)&&(g!=_.charAt(k)||f!=_.charAt(k+1));)++k;if(k+=2,d===_.charAt(k-1))return R("End of comment missing");var M=_.slice(2,k-2);return O+=2,$(M),_=_.slice(k),O+=2,A({type:m,comment:M})}}function D(){var A=E(),k=j(o);if(!!k){if(L(),!j(s))return R("property missing ':'");var M=j(a),N=A({type:y,property:v(k[0].replace(n,d)),value:M?v(M[0].replace(n,d)):d});return j(l),N}}function x(){var A=[];P(A);for(var k;k=D();)k!==!1&&(A.push(k),P(A));return A}return H(),x()};function v(_){return _?_.replace(h,d):d}}}),require_style_to_object=__commonJS({"node_modules/style-to-object/index.js"(e,t){var n=require_inline_style_parser();function r(i,o){var s=null;if(!i||typeof i!="string")return s;for(var a,l=n(i),h=typeof o=="function",c,f,g=0,d=l.length;g<d;g++)a=l[g],c=a.property,f=a.value,h?o(c,f,a):f&&(s||(s={}),s[c]=f);return s}t.exports=r}});function toString(e,t){var{includeImageAlt:n=!0}=t||{};return one(e,n)}function one(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&all(e.children,t)||Array.isArray(e)&&all(e,t))||""}function all(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=one(e[r],t);return n.join("")}function splice(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),[].splice.apply(e,s);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),[].splice.apply(e,s),o+=1e4,t+=1e4}function push(e,t){return e.length>0?(splice(e,e.length,0,t),e):t}var hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const t={};let n=-1;for(;++n<e.length;)syntaxExtension(t,e[n]);return t}function syntaxExtension(e,t){let n;for(n in t){const i=(hasOwnProperty.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;for(s in o){hasOwnProperty.call(i,s)||(i[s]=[]);const a=o[s];constructs(i[s],Array.isArray(a)?a:a?[a]:[])}}}function constructs(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);splice(e,0,0,r)}var unicodePunctuationRegex=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,asciiAlpha=regexCheck(/[A-Za-z]/),asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownLineEnding(e){return e!==null&&e<-2}function markdownSpace(e){return e===-2||e===-1||e===32}var unicodeWhitespace=regexCheck(/\s/),unicodePunctuation=regexCheck(unicodePunctuationRegex);function regexCheck(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function factorySpace(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return markdownSpace(l)?(e.enter(n),a(l)):t(l)}function a(l){return markdownSpace(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}var content={tokenize:initializeContent};function initializeContent(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),factorySpace(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return markdownLineEnding(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}var document2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const t=this,n=[];let r=0,i,o,s;return a;function a(C){if(r<n.length){const O=n[r];return t.containerState=O[1],e.attempt(O[0].continuation,l,h)(C)}return h(C)}function l(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&T();const O=t.events.length;let $=O,E;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){E=t.events[$][1].end;break}_(r);let F=O;for(;F<t.events.length;)t.events[F][1].end=Object.assign({},E),F++;return splice(t.events,$+1,0,t.events.slice(O)),t.events.length=F,h(C)}return a(C)}function h(C){if(r===n.length){if(!i)return g(C);if(i.currentConstruct&&i.currentConstruct.concrete)return m(C);t.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(containerConstruct,c,f)(C)}function c(C){return i&&T(),_(r),g(C)}function f(C){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(C)}function g(C){return t.containerState={},e.attempt(containerConstruct,d,m)(C)}function d(C){return r++,n.push([t.currentConstruct,t.containerState]),g(C)}function m(C){if(C===null){i&&T(),_(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),y(C)}function y(C){if(C===null){v(e.exit("chunkFlow"),!0),_(0),e.consume(C);return}return markdownLineEnding(C)?(e.consume(C),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(C),y)}function v(C,O){const $=t.sliceStream(C);if(O&&$.push(null),C.previous=o,o&&(o.next=C),o=C,i.defineSkip(C.start),i.write($),t.parser.lazy[C.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const F=t.events.length;let R=F,j,H;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(j){H=t.events[R][1].end;break}j=!0}for(_(r),E=F;E<t.events.length;)t.events[E][1].end=Object.assign({},H),E++;splice(t.events,R+1,0,t.events.slice(F)),t.events.length=E}}function _(C){let O=n.length;for(;O-- >C;){const $=n[O];t.containerState=$[1],$[0].exit.call(t,e)}n.length=C}function T(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function tokenizeContainer(e,t,n){return factorySpace(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}var attention={name:"attention",tokenize:tokenizeAttention,resolveAll:resolveAllAttention};function resolveAllAttention(e,t){let n=-1,r,i,o,s,a,l,h,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),g=Object.assign({},e[n][1].start);movePoint(f,-l),movePoint(g,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:g},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},a.end),h=[],e[r][1].end.offset-e[r][1].start.offset&&(h=push(h,[["enter",e[r][1],t],["exit",e[r][1],t]])),h=push(h,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),h=push(h,resolveAll(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),h=push(h,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,h=push(h,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,splice(e,r-1,n-r+3,h),n=r+h.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function tokenizeAttention(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=classifyCharacter(r);let o;return s;function s(l){return e.enter("attentionSequence"),o=l,a(l)}function a(l){if(l===o)return e.consume(l),a;const h=e.exit("attentionSequence"),c=classifyCharacter(l),f=!c||c===2&&i||n.includes(l),g=!i||i===2&&c||n.includes(r);return h._open=Boolean(o===42?f:f&&(i||!g)),h._close=Boolean(o===42?g:g&&(c||!f)),t(l)}}function movePoint(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,t,n){let r=1;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return asciiAlpha(m)?(e.consume(m),s):asciiAtext(m)?h(m):n(m)}function s(m){return m===43||m===45||m===46||asciiAlphanumeric(m)?a(m):h(m)}function a(m){return m===58?(e.consume(m),l):(m===43||m===45||m===46||asciiAlphanumeric(m))&&r++<32?(e.consume(m),a):h(m)}function l(m){return m===62?(e.exit("autolinkProtocol"),d(m)):m===null||m===32||m===60||asciiControl(m)?n(m):(e.consume(m),l)}function h(m){return m===64?(e.consume(m),r=0,c):asciiAtext(m)?(e.consume(m),h):n(m)}function c(m){return asciiAlphanumeric(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,c):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",d(m)):g(m)}function g(m){return(m===45||asciiAlphanumeric(m))&&r++<63?(e.consume(m),m===45?g:f):n(m)}function d(m){return e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t}}var blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(e,t,n){return factorySpace(e,r,"linePrefix");function r(i){return i===null||markdownLineEnding(i)?t(i):n(i)}}var blockQuote={name:"blockQuote",tokenize:tokenizeBlockQuoteStart,continuation:{tokenize:tokenizeBlockQuoteContinuation},exit};function tokenizeBlockQuoteStart(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return markdownSpace(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function tokenizeBlockQuoteContinuation(e,t,n){return factorySpace(e,e.attempt(blockQuote,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function exit(e){e.exit("blockQuote")}var characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return asciiPunctuation(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}var element=document.createElement("i");function decodeNamedCharacterReference(e){const t="&"+e+";";element.innerHTML=t;const n=element.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}var characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),o=31,s=asciiAlphanumeric,c(f))}function h(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=asciiHexDigit,c):(e.enter("characterReferenceValue"),o=7,s=asciiDigit,c(f))}function c(f){let g;return f===59&&i?(g=e.exit("characterReferenceValue"),s===asciiAlphanumeric&&!decodeNamedCharacterReference(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):s(f)&&i++<o?(e.consume(f),c):n(f)}}var codeFenced={name:"codeFenced",tokenize:tokenizeCodeFenced,concrete:!0};function tokenizeCodeFenced(e,t,n){const r=this,i={tokenize:$,partial:!0},o={tokenize:O,partial:!0},s=this.events[this.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let l=0,h;return c;function c(E){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h=E,f(E)}function f(E){return E===h?(e.consume(E),l++,f):(e.exit("codeFencedFenceSequence"),l<3?n(E):factorySpace(e,g,"whitespace")(E))}function g(E){return E===null||markdownLineEnding(E)?v(E):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||markdownLineEndingOrSpace(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,m,"whitespace")(E)):E===96&&E===h?n(E):(e.consume(E),d)}function m(E){return E===null||markdownLineEnding(E)?v(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||markdownLineEnding(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(E)):E===96&&E===h?n(E):(e.consume(E),y)}function v(E){return e.exit("codeFencedFence"),r.interrupt?t(E):_(E)}function _(E){return E===null?C(E):markdownLineEnding(E)?e.attempt(o,e.attempt(i,C,a?factorySpace(e,_,"linePrefix",a+1):_),C)(E):(e.enter("codeFlowValue"),T(E))}function T(E){return E===null||markdownLineEnding(E)?(e.exit("codeFlowValue"),_(E)):(e.consume(E),T)}function C(E){return e.exit("codeFenced"),t(E)}function O(E,F,R){const j=this;return H;function H(L){return E.enter("lineEnding"),E.consume(L),E.exit("lineEnding"),P}function P(L){return j.parser.lazy[j.now().line]?R(L):F(L)}}function $(E,F,R){let j=0;return factorySpace(E,H,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function H(D){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),P(D)}function P(D){return D===h?(E.consume(D),j++,P):j<l?R(D):(E.exit("codeFencedFenceSequence"),factorySpace(E,L,"whitespace")(D))}function L(D){return D===null||markdownLineEnding(D)?(E.exit("codeFencedFence"),F(D)):R(D)}}}var codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},indentedContent={tokenize:tokenizeIndentedContent,partial:!0};function tokenizeCodeIndented(e,t,n){const r=this;return i;function i(h){return e.enter("codeIndented"),factorySpace(e,o,"linePrefix",4+1)(h)}function o(h){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(h):n(h)}function s(h){return h===null?l(h):markdownLineEnding(h)?e.attempt(indentedContent,s,l)(h):(e.enter("codeFlowValue"),a(h))}function a(h){return h===null||markdownLineEnding(h)?(e.exit("codeFlowValue"),s(h)):(e.consume(h),a)}function l(h){return e.exit("codeIndented"),t(h)}}function tokenizeIndentedContent(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):markdownLineEnding(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):factorySpace(e,o,"linePrefix",4+1)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):markdownLineEnding(s)?i(s):n(s)}}var codeText={name:"codeText",tokenize:tokenizeCodeText,resolve:resolveCodeText,previous};function resolveCodeText(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function previous(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):markdownLineEnding(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||markdownLineEnding(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),h)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",h(f))}}function subtokenize(e){const t={};let n=-1,r,i,o,s,a,l,h;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,subcontent(e,n)),n=t[n],h=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=e[o],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),splice(e,i,n-i+1,a))}}return!h}function subcontent(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],h={};let c,f,g=-1,d=n,m=0,y=0;const v=[y];for(;d;){for(;e[++i][1]!==d;);o.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(y=g+1,v.push(y),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):v.pop(),g=v.length;g--;){const _=a.slice(v[g],v[g+1]),T=o.pop();l.unshift([T,T+_.length-1]),splice(e,T,2,_)}for(g=-1;++g<l.length;)h[m+l[g][0]]=m+l[g][1],m+=l[g][1]-l[g][0]-1;return h}var content2={tokenize:tokenizeContent,resolve:resolveContent},continuationConstruct={tokenize:tokenizeContinuation,partial:!0};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):markdownLineEnding(a)?e.check(continuationConstruct,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function tokenizeContinuation(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),factorySpace(e,o,"linePrefix")}function o(s){if(s===null||markdownLineEnding(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function factoryDestination(e,t,n,r,i,o,s,a,l){const h=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(_){return _===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(_),e.exit(o),g):_===null||_===41||asciiControl(_)?n(_):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(_))}function g(_){return _===62?(e.enter(o),e.consume(_),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===62?(e.exit("chunkString"),e.exit(a),g(_)):_===null||_===60||markdownLineEnding(_)?n(_):(e.consume(_),_===92?m:d)}function m(_){return _===60||_===62||_===92?(e.consume(_),d):d(_)}function y(_){return _===40?++c>h?n(_):(e.consume(_),y):_===41?c--?(e.consume(_),y):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(_)):_===null||markdownLineEndingOrSpace(_)?c?n(_):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(_)):asciiControl(_)?n(_):(e.consume(_),_===92?v:y)}function v(_){return _===40||_===41||_===92?(e.consume(_),y):y(_)}}function factoryLabel(e,t,n,r,i,o){const s=this;let a=0,l;return h;function h(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),e.enter(o),c}function c(d){return d===null||d===91||d===93&&!l||d===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs||a>999?n(d):d===93?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||markdownLineEnding(d)||a++>999?(e.exit("chunkString"),c(d)):(e.consume(d),l=l||!markdownSpace(d),d===92?g:f)}function g(d){return d===91||d===92||d===93?(e.consume(d),a++,f):f(d)}}function factoryTitle(e,t,n,r,i,o){let s;return a;function a(g){return e.enter(r),e.enter(i),e.consume(g),e.exit(i),s=g===40?41:g,l}function l(g){return g===s?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(o),h(g))}function h(g){return g===s?(e.exit(o),l(s)):g===null?n(g):markdownLineEnding(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),factorySpace(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(g))}function c(g){return g===s||g===null||markdownLineEnding(g)?(e.exit("chunkString"),h(g)):(e.consume(g),g===92?f:c)}function f(g){return g===s||g===92?(e.consume(g),c):c(g)}}function factoryWhitespace(e,t){let n;return r;function r(i){return markdownLineEnding(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):markdownSpace(i)?factorySpace(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var definition={name:"definition",tokenize:tokenizeDefinition},titleConstruct={tokenize:tokenizeTitle,partial:!0};function tokenizeDefinition(e,t,n){const r=this;let i;return o;function o(l){return e.enter("definition"),factoryLabel.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function s(l){return i=normalizeIdentifier(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),factoryWhitespace(e,factoryDestination(e,e.attempt(titleConstruct,factorySpace(e,a,"whitespace"),factorySpace(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||markdownLineEnding(l)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(l)):n(l)}}function tokenizeTitle(e,t,n){return r;function r(s){return markdownLineEndingOrSpace(s)?factoryWhitespace(e,i)(s):n(s)}function i(s){return s===34||s===39||s===40?factoryTitle(e,factorySpace(e,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function o(s){return s===null||markdownLineEnding(s)?t(s):n(s)}}var hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(o),i}function i(o){return markdownLineEnding(o)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(o)):n(o)}}var headingAtx={name:"headingAtx",tokenize:tokenizeHeadingAtx,resolve:resolveHeadingAtx};function resolveHeadingAtx(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},splice(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function tokenizeHeadingAtx(e,t,n){const r=this;let i=0;return o;function o(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&i++<6?(e.consume(c),s):c===null||markdownLineEndingOrSpace(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||markdownLineEnding(c)?(e.exit("atxHeading"),t(c)):markdownSpace(c)?factorySpace(e,a,"whitespace")(c):(e.enter("atxHeadingText"),h(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function h(c){return c===null||c===35||markdownLineEndingOrSpace(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),h)}}var htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:tokenizeHtmlFlow,resolveTo:resolveToHtmlFlow,concrete:!0},nextBlankConstruct={tokenize:tokenizeNextBlank,partial:!0};function resolveToHtmlFlow(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tokenizeHtmlFlow(e,t,n){const r=this;let i,o,s,a,l;return h;function h(w){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(w),c}function c(w){return w===33?(e.consume(w),f):w===47?(e.consume(w),m):w===63?(e.consume(w),i=3,r.interrupt?t:z):asciiAlpha(w)?(e.consume(w),s=String.fromCharCode(w),o=!0,y):n(w)}function f(w){return w===45?(e.consume(w),i=2,g):w===91?(e.consume(w),i=5,s="CDATA[",a=0,d):asciiAlpha(w)?(e.consume(w),i=4,r.interrupt?t:z):n(w)}function g(w){return w===45?(e.consume(w),r.interrupt?t:z):n(w)}function d(w){return w===s.charCodeAt(a++)?(e.consume(w),a===s.length?r.interrupt?t:P:d):n(w)}function m(w){return asciiAlpha(w)?(e.consume(w),s=String.fromCharCode(w),y):n(w)}function y(w){return w===null||w===47||w===62||markdownLineEndingOrSpace(w)?w!==47&&o&&htmlRawNames.includes(s.toLowerCase())?(i=1,r.interrupt?t(w):P(w)):htmlBlockNames.includes(s.toLowerCase())?(i=6,w===47?(e.consume(w),v):r.interrupt?t(w):P(w)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(w):o?T(w):_(w)):w===45||asciiAlphanumeric(w)?(e.consume(w),s+=String.fromCharCode(w),y):n(w)}function v(w){return w===62?(e.consume(w),r.interrupt?t:P):n(w)}function _(w){return markdownSpace(w)?(e.consume(w),_):j(w)}function T(w){return w===47?(e.consume(w),j):w===58||w===95||asciiAlpha(w)?(e.consume(w),C):markdownSpace(w)?(e.consume(w),T):j(w)}function C(w){return w===45||w===46||w===58||w===95||asciiAlphanumeric(w)?(e.consume(w),C):O(w)}function O(w){return w===61?(e.consume(w),$):markdownSpace(w)?(e.consume(w),O):T(w)}function $(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),l=w,E):markdownSpace(w)?(e.consume(w),$):(l=null,F(w))}function E(w){return w===null||markdownLineEnding(w)?n(w):w===l?(e.consume(w),R):(e.consume(w),E)}function F(w){return w===null||w===34||w===39||w===60||w===61||w===62||w===96||markdownLineEndingOrSpace(w)?O(w):(e.consume(w),F)}function R(w){return w===47||w===62||markdownSpace(w)?T(w):n(w)}function j(w){return w===62?(e.consume(w),H):n(w)}function H(w){return markdownSpace(w)?(e.consume(w),H):w===null||markdownLineEnding(w)?P(w):n(w)}function P(w){return w===45&&i===2?(e.consume(w),A):w===60&&i===1?(e.consume(w),k):w===62&&i===4?(e.consume(w),q):w===63&&i===3?(e.consume(w),z):w===93&&i===5?(e.consume(w),N):markdownLineEnding(w)&&(i===6||i===7)?e.check(nextBlankConstruct,q,L)(w):w===null||markdownLineEnding(w)?L(w):(e.consume(w),P)}function L(w){return e.exit("htmlFlowData"),D(w)}function D(w){return w===null?b(w):markdownLineEnding(w)?e.attempt({tokenize:x,partial:!0},D,b)(w):(e.enter("htmlFlowData"),P(w))}function x(w,X,ie){return ee;function ee(Y){return w.enter("lineEnding"),w.consume(Y),w.exit("lineEnding"),G}function G(Y){return r.parser.lazy[r.now().line]?ie(Y):X(Y)}}function A(w){return w===45?(e.consume(w),z):P(w)}function k(w){return w===47?(e.consume(w),s="",M):P(w)}function M(w){return w===62&&htmlRawNames.includes(s.toLowerCase())?(e.consume(w),q):asciiAlpha(w)&&s.length<8?(e.consume(w),s+=String.fromCharCode(w),M):P(w)}function N(w){return w===93?(e.consume(w),z):P(w)}function z(w){return w===62?(e.consume(w),q):w===45&&i===2?(e.consume(w),z):P(w)}function q(w){return w===null||markdownLineEnding(w)?(e.exit("htmlFlowData"),b(w)):(e.consume(w),q)}function b(w){return e.exit("htmlFlow"),t(w)}}function tokenizeNextBlank(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(blankLine,t,n)}}var htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,t,n){const r=this;let i,o,s,a;return l;function l(b){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(b),h}function h(b){return b===33?(e.consume(b),c):b===47?(e.consume(b),F):b===63?(e.consume(b),$):asciiAlpha(b)?(e.consume(b),H):n(b)}function c(b){return b===45?(e.consume(b),f):b===91?(e.consume(b),o="CDATA[",s=0,v):asciiAlpha(b)?(e.consume(b),O):n(b)}function f(b){return b===45?(e.consume(b),g):n(b)}function g(b){return b===null||b===62?n(b):b===45?(e.consume(b),d):m(b)}function d(b){return b===null||b===62?n(b):m(b)}function m(b){return b===null?n(b):b===45?(e.consume(b),y):markdownLineEnding(b)?(a=m,N(b)):(e.consume(b),m)}function y(b){return b===45?(e.consume(b),q):m(b)}function v(b){return b===o.charCodeAt(s++)?(e.consume(b),s===o.length?_:v):n(b)}function _(b){return b===null?n(b):b===93?(e.consume(b),T):markdownLineEnding(b)?(a=_,N(b)):(e.consume(b),_)}function T(b){return b===93?(e.consume(b),C):_(b)}function C(b){return b===62?q(b):b===93?(e.consume(b),C):_(b)}function O(b){return b===null||b===62?q(b):markdownLineEnding(b)?(a=O,N(b)):(e.consume(b),O)}function $(b){return b===null?n(b):b===63?(e.consume(b),E):markdownLineEnding(b)?(a=$,N(b)):(e.consume(b),$)}function E(b){return b===62?q(b):$(b)}function F(b){return asciiAlpha(b)?(e.consume(b),R):n(b)}function R(b){return b===45||asciiAlphanumeric(b)?(e.consume(b),R):j(b)}function j(b){return markdownLineEnding(b)?(a=j,N(b)):markdownSpace(b)?(e.consume(b),j):q(b)}function H(b){return b===45||asciiAlphanumeric(b)?(e.consume(b),H):b===47||b===62||markdownLineEndingOrSpace(b)?P(b):n(b)}function P(b){return b===47?(e.consume(b),q):b===58||b===95||asciiAlpha(b)?(e.consume(b),L):markdownLineEnding(b)?(a=P,N(b)):markdownSpace(b)?(e.consume(b),P):q(b)}function L(b){return b===45||b===46||b===58||b===95||asciiAlphanumeric(b)?(e.consume(b),L):D(b)}function D(b){return b===61?(e.consume(b),x):markdownLineEnding(b)?(a=D,N(b)):markdownSpace(b)?(e.consume(b),D):P(b)}function x(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(e.consume(b),i=b,A):markdownLineEnding(b)?(a=x,N(b)):markdownSpace(b)?(e.consume(b),x):(e.consume(b),i=void 0,M)}function A(b){return b===i?(e.consume(b),k):b===null?n(b):markdownLineEnding(b)?(a=A,N(b)):(e.consume(b),A)}function k(b){return b===62||b===47||markdownLineEndingOrSpace(b)?P(b):n(b)}function M(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===62||markdownLineEndingOrSpace(b)?P(b):(e.consume(b),M)}function N(b){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),factorySpace(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function z(b){return e.enter("htmlTextData"),a(b)}function q(b){return b===62?(e.consume(b),e.exit("htmlTextData"),e.exit("htmlText"),t):n(b)}}var labelEnd={name:"labelEnd",tokenize:tokenizeLabelEnd,resolveTo:resolveToLabelEnd,resolveAll:resolveAllLabelEnd},resourceConstruct={tokenize:tokenizeResource},fullReferenceConstruct={tokenize:tokenizeFullReference},collapsedReferenceConstruct={tokenize:tokenizeCollapsedReference};function resolveAllLabelEnd(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function resolveToLabelEnd(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},h={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",h,t]],a=push(a,e.slice(o+1,o+r+3)),a=push(a,[["enter",c,t]]),a=push(a,resolveAll(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=push(a,[["exit",c,t],e[s-2],e[s-1],["exit",h,t]]),a=push(a,e.slice(s+1)),a=push(a,[["exit",l,t]]),splice(e,o,e.length,a),e}function tokenizeLabelEnd(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(c){return o?o._inactive?h(c):(s=r.parser.defined.includes(normalizeIdentifier(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),l):n(c)}function l(c){return c===40?e.attempt(resourceConstruct,t,s?t:h)(c):c===91?e.attempt(fullReferenceConstruct,t,s?e.attempt(collapsedReferenceConstruct,t,h):h)(c):s?t(c):h(c)}function h(c){return o._balanced=!0,n(c)}}function tokenizeResource(e,t,n){return r;function r(l){return e.enter("resource"),e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),factoryWhitespace(e,i)}function i(l){return l===41?a(l):factoryDestination(e,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function o(l){return markdownLineEndingOrSpace(l)?factoryWhitespace(e,s)(l):a(l)}function s(l){return l===34||l===39||l===40?factoryTitle(e,factoryWhitespace(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),e.exit("resource"),t):n(l)}}function tokenizeFullReference(e,t,n){const r=this;return i;function i(s){return factoryLabel.call(r,e,o,n,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(normalizeIdentifier(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}}function tokenizeCollapsedReference(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}var labelStartImage={name:"labelStartImage",tokenize:tokenizeLabelStartImage,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartImage(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}var labelStartLink={name:"labelStartLink",tokenize:tokenizeLabelStartLink,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartLink(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}var lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),factorySpace(e,t,"linePrefix")}}var thematicBreak={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,t,n){let r=0,i;return o;function o(l){return e.enter("thematicBreak"),i=l,s(l)}function s(l){return l===i?(e.enter("thematicBreakSequence"),a(l)):markdownSpace(l)?factorySpace(e,s,"whitespace")(l):r<3||l!==null&&!markdownLineEnding(l)?n(l):(e.exit("thematicBreak"),t(l))}function a(l){return l===i?(e.consume(l),r++,a):(e.exit("thematicBreakSequence"),s(l))}}var list={name:"list",tokenize:tokenizeListStart,continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd},listItemPrefixWhitespaceConstruct={tokenize:tokenizeListItemPrefixWhitespace,partial:!0},indentConstruct={tokenize:tokenizeIndent,partial:!0};function tokenizeListStart(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(d){const m=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:asciiDigit(d)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(thematicBreak,n,h)(d):h(d);if(!r.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return n(d)}function l(d){return asciiDigit(d)&&++s<10?(e.consume(d),l):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),h(d)):n(d)}function h(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,e.check(blankLine,r.interrupt?n:c,e.attempt(listItemPrefixWhitespaceConstruct,g,f))}function c(d){return r.containerState.initialBlankLine=!0,o++,g(d)}function f(d){return markdownSpace(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),g):n(d)}function g(d){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function tokenizeListContinuation(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(blankLine,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,factorySpace(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!markdownSpace(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,factorySpace(e,e.attempt(list,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function tokenizeIndent(e,t,n){const r=this;return factorySpace(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,t,n){const r=this;return factorySpace(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const s=r.events[r.events.length-1];return!markdownSpace(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}var setextUnderline={name:"setextUnderline",tokenize:tokenizeSetextUnderline,resolveTo:resolveToSetextUnderline};function resolveToSetextUnderline(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function tokenizeSetextUnderline(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){s=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),o=c,l(c)):n(c)}function l(c){return c===o?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),factorySpace(e,h,"lineSuffix")(c))}function h(c){return c===null||markdownLineEnding(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}var flow={tokenize:initializeFlow};function initializeFlow(e){const t=this,n=e.attempt(blankLine,r,e.attempt(this.parser.constructs.flowInitial,i,factorySpace(e,e.attempt(this.parser.constructs.flow,i,e.attempt(content2,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}var resolver={resolveAll:createResolver()},string=initializeFactory("string"),text=initializeFactory("text");function initializeFactory(e){return{tokenize:t,resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return h(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return h(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function h(c){if(c===null)return!0;const f=i[c];let g=-1;if(f)for(;++g<f.length;){const d=f[g];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function createResolver(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function resolveAllLineSuffixes(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const h=i[o];if(typeof h=="string"){for(s=h.length;h.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(h===-2)l=!0,a++;else if(h!==-1){o++;break}}if(a){const h={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},h.start),r.start.offset===r.end.offset?Object.assign(r,h):(e.splice(n,0,["enter",h,t],["exit",h,t]),n+=2)}n++}return e}function createTokenizer(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:T,enter:C,exit:O,attempt:F($),check:F(E),interrupt:F(E,{interrupt:!0})},h={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:g,now:m,defineSkip:y,write:f};let c=t.tokenize.call(h,l);return t.resolveAll&&o.push(t),h;function f(P){return s=push(s,P),v(),s[s.length-1]!==null?[]:(R(t,0),h.events=resolveAll(o,h.events,h),h.events)}function g(P,L){return serializeChunks(d(P),L)}function d(P){return sliceChunks(s,P)}function m(){return Object.assign({},r)}function y(P){i[P.line]=P.column,H()}function v(){let P;for(;r._index<s.length;){const L=s[r._index];if(typeof L=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<L.length;)_(L.charCodeAt(r._bufferIndex));else _(L)}}function _(P){c=c(P)}function T(P){markdownLineEnding(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,H()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=P}function C(P,L){const D=L||{};return D.type=P,D.start=m(),h.events.push(["enter",D,h]),a.push(D),D}function O(P){const L=a.pop();return L.end=m(),h.events.push(["exit",L,h]),L}function $(P,L){R(P,L.from)}function E(P,L){L.restore()}function F(P,L){return D;function D(x,A,k){let M,N,z,q;return Array.isArray(x)?w(x):"tokenize"in x?w([x]):b(x);function b(G){return Y;function Y(Q){const te=Q!==null&&G[Q],ne=Q!==null&&G.null,ae=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return w(ae)(Q)}}function w(G){return M=G,N=0,G.length===0?k:X(G[N])}function X(G){return Y;function Y(Q){return q=j(),z=G,G.partial||(h.currentConstruct=G),G.name&&h.parser.constructs.disable.null.includes(G.name)?ee():G.tokenize.call(L?Object.assign(Object.create(h),L):h,l,ie,ee)(Q)}}function ie(G){return P(z,q),A}function ee(G){return q.restore(),++N<M.length?X(M[N]):k}}}function R(P,L){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&splice(h.events,L,h.events.length-L,P.resolve(h.events.slice(L),h)),P.resolveTo&&(h.events=P.resolveTo(h.events,h))}function j(){const P=m(),L=h.previous,D=h.currentConstruct,x=h.events.length,A=Array.from(a);return{restore:k,from:x};function k(){r=P,h.previous=L,h.currentConstruct=D,h.events.length=x,a=A,H()}}function H(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sliceChunks(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;return n===i?s=[e[n].slice(r,o)]:(s=e.slice(n,i),r>-1&&(s[0]=s[0].slice(r)),o>0&&s.push(e[i].slice(0,o))),s}function serializeChunks(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}var constructs_exports={};__export(constructs_exports,{attentionMarkers:()=>attentionMarkers,contentInitial:()=>contentInitial,disable:()=>disable,document:()=>document3,flow:()=>flow2,flowInitial:()=>flowInitial,insideSpan:()=>insideSpan,string:()=>string2,text:()=>text2});var document3={[42]:list,[43]:list,[45]:list,[48]:list,[49]:list,[50]:list,[51]:list,[52]:list,[53]:list,[54]:list,[55]:list,[56]:list,[57]:list,[62]:blockQuote},contentInitial={[91]:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,[32]:codeIndented},flow2={[35]:headingAtx,[42]:thematicBreak,[45]:[setextUnderline,thematicBreak],[60]:htmlFlow,[61]:setextUnderline,[95]:thematicBreak,[96]:codeFenced,[126]:codeFenced},string2={[38]:characterReference,[92]:characterEscape},text2={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,[33]:labelStartImage,[38]:characterReference,[42]:attention,[60]:[autolink,htmlText],[91]:labelStartLink,[92]:[hardBreakEscape,characterEscape],[93]:labelEnd,[95]:attention,[96]:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]};function parse(e={}){const t=combineExtensions([constructs_exports].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(content),document:r(document2),flow:r(flow),string:r(string),text:r(text)};return n;function r(i){return o;function o(s){return createTokenizer(n,i,s)}}}var search=/[\0\t\n\r]/g;function preprocess(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let h,c,f,g,d;for(o=t+o.toString(s),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(search.lastIndex=f,h=search.exec(o),g=h&&h.index!==void 0?h.index:o.length,d=o.charCodeAt(g),!h){t=o.slice(f);break}if(d===10&&f===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<g&&(l.push(o.slice(f,g)),e+=g-f),d){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function postprocess(e){for(;!subtokenize(e););return e}function decodeNumericCharacterReference(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}var characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return decodeNumericCharacterReference(n.slice(o?2:1),o?16:10)}return decodeNamedCharacterReference(n)||e}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point(e):""}function point(e){return index(e&&e.line)+":"+index(e&&e.column)}function position(e){return point(e&&e.start)+"-"+point(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}var own={}.hasOwnProperty,fromMarkdown=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),compiler(n)(postprocess(parse(n).document().write(preprocess()(e,t,!0))))};function compiler(e={}){const t=configure({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(de),autolinkProtocol:L,autolinkEmail:L,atxHeading:l(ce),blockQuote:l(me),characterEscape:L,characterReference:L,codeFenced:l(ue),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:l(ue,h),codeText:l(ge,h),codeTextData:L,data:L,codeFlowValue:L,definition:l(ye),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:l(be),hardBreakEscape:l(he),hardBreakTrailing:l(he),htmlFlow:l(fe,h),htmlFlowData:L,htmlText:l(fe,h),htmlTextData:L,image:l(we),label:h,link:l(de),listItem:l(ke),listItemValue:y,listOrdered:l(pe,m),listUnordered:l(pe),paragraph:l(_e),reference:G,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:l(ce),strong:l(ve),thematicBreak:l(Ee)},exit:{atxHeading:f(),atxHeadingSequence:R,autolink:f(),autolinkEmail:ae,autolinkProtocol:ne,blockQuote:f(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:te,codeFenced:f(C),codeFencedFence:T,codeFencedFenceInfo:v,codeFencedFenceMeta:_,codeFlowValue:D,codeIndented:f(O),codeText:f(N),codeTextData:D,data:D,definition:f(),definitionDestinationString:F,definitionLabelString:$,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(A),hardBreakTrailing:f(A),htmlFlow:f(k),htmlFlowData:D,htmlText:f(M),htmlTextData:D,image:f(q),label:w,labelText:b,lineEnding:x,link:f(z),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Y,resourceDestinationString:X,resourceTitleString:ie,resource:ee,setextHeading:f(P),setextHeadingLineSequence:H,setextHeadingText:j,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(S){let I={type:"root",children:[]};const B=[I],U=[],K=[],oe={stack:B,tokenStack:U,config:t,enter:c,exit:g,buffer:h,resume:d,setData:o,getData:s};let V=-1;for(;++V<S.length;)if(S[V][1].type==="listOrdered"||S[V][1].type==="listUnordered")if(S[V][0]==="enter")K.push(V);else{const J=K.pop();V=i(S,J,V)}for(V=-1;++V<S.length;){const J=t[S[V][0]];own.call(J,S[V][1].type)&&J[S[V][1].type].call(Object.assign({sliceSerialize:S[V][2].sliceSerialize},oe),S[V][1])}if(U.length>0){const J=U[U.length-1];(J[1]||defaultOnError).call(oe,void 0,J[0])}for(I.position={start:a(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:a(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},V=-1;++V<t.transforms.length;)I=t.transforms[V](I)||I;return I}function i(S,I,B){let U=I-1,K=-1,oe=!1,V,J,re,se;for(;++U<=B;){const W=S[U];if(W[1].type==="listUnordered"||W[1].type==="listOrdered"||W[1].type==="blockQuote"?(W[0]==="enter"?K++:K--,se=void 0):W[1].type==="lineEndingBlank"?W[0]==="enter"&&(V&&!se&&!K&&!re&&(re=U),se=void 0):W[1].type==="linePrefix"||W[1].type==="listItemValue"||W[1].type==="listItemMarker"||W[1].type==="listItemPrefix"||W[1].type==="listItemPrefixWhitespace"||(se=void 0),!K&&W[0]==="enter"&&W[1].type==="listItemPrefix"||K===-1&&W[0]==="exit"&&(W[1].type==="listUnordered"||W[1].type==="listOrdered")){if(V){let le=U;for(J=void 0;le--;){const Z=S[le];if(Z[1].type==="lineEnding"||Z[1].type==="lineEndingBlank"){if(Z[0]==="exit")continue;J&&(S[J][1].type="lineEndingBlank",oe=!0),Z[1].type="lineEnding",J=le}else if(!(Z[1].type==="linePrefix"||Z[1].type==="blockQuotePrefix"||Z[1].type==="blockQuotePrefixWhitespace"||Z[1].type==="blockQuoteMarker"||Z[1].type==="listItemIndent"))break}re&&(!J||re<J)&&(V._spread=!0),V.end=Object.assign({},J?S[J][1].start:W[1].end),S.splice(J||U,0,["exit",V,W[2]]),U++,B++}W[1].type==="listItemPrefix"&&(V={type:"listItem",_spread:!1,start:Object.assign({},W[1].start)},S.splice(U,0,["enter",V,W[2]]),U++,B++,re=void 0,se=!0)}}return S[I][1]._spread=oe,B}function o(S,I){n[S]=I}function s(S){return n[S]}function a(S){return{line:S.line,column:S.column,offset:S.offset}}function l(S,I){return B;function B(U){c.call(this,S(U),U),I&&I.call(this,U)}}function h(){this.stack.push({type:"fragment",children:[]})}function c(S,I,B){return this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([I,B]),S.position={start:a(I.start)},S}function f(S){return I;function I(B){S&&S.call(this,B),g.call(this,B)}}function g(S,I){const B=this.stack.pop(),U=this.tokenStack.pop();if(U)U[0].type!==S.type&&(I?I.call(this,S,U[0]):(U[1]||defaultOnError).call(this,S,U[0]));else throw new Error("Cannot close `"+S.type+"` ("+stringifyPosition({start:S.start,end:S.end})+"): it\u2019s not open");return B.position.end=a(S.end),B}function d(){return toString(this.stack.pop())}function m(){o("expectingFirstListItemValue",!0)}function y(S){if(s("expectingFirstListItemValue")){const I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(S),10),o("expectingFirstListItemValue")}}function v(){const S=this.resume(),I=this.stack[this.stack.length-1];I.lang=S}function _(){const S=this.resume(),I=this.stack[this.stack.length-1];I.meta=S}function T(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function C(){const S=this.resume(),I=this.stack[this.stack.length-1];I.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function O(){const S=this.resume(),I=this.stack[this.stack.length-1];I.value=S.replace(/(\r?\n|\r)$/g,"")}function $(S){const I=this.resume(),B=this.stack[this.stack.length-1];B.label=I,B.identifier=normalizeIdentifier(this.sliceSerialize(S)).toLowerCase()}function E(){const S=this.resume(),I=this.stack[this.stack.length-1];I.title=S}function F(){const S=this.resume(),I=this.stack[this.stack.length-1];I.url=S}function R(S){const I=this.stack[this.stack.length-1];if(!I.depth){const B=this.sliceSerialize(S).length;I.depth=B}}function j(){o("setextHeadingSlurpLineEnding",!0)}function H(S){const I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(S).charCodeAt(0)===61?1:2}function P(){o("setextHeadingSlurpLineEnding")}function L(S){const I=this.stack[this.stack.length-1];let B=I.children[I.children.length-1];(!B||B.type!=="text")&&(B=xe(),B.position={start:a(S.start)},I.children.push(B)),this.stack.push(B)}function D(S){const I=this.stack.pop();I.value+=this.sliceSerialize(S),I.position.end=a(S.end)}function x(S){const I=this.stack[this.stack.length-1];if(s("atHardBreak")){const B=I.children[I.children.length-1];B.position.end=a(S.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(I.type)&&(L.call(this,S),D.call(this,S))}function A(){o("atHardBreak",!0)}function k(){const S=this.resume(),I=this.stack[this.stack.length-1];I.value=S}function M(){const S=this.resume(),I=this.stack[this.stack.length-1];I.value=S}function N(){const S=this.resume(),I=this.stack[this.stack.length-1];I.value=S}function z(){const S=this.stack[this.stack.length-1];s("inReference")?(S.type+="Reference",S.referenceType=s("referenceType")||"shortcut",delete S.url,delete S.title):(delete S.identifier,delete S.label),o("referenceType")}function q(){const S=this.stack[this.stack.length-1];s("inReference")?(S.type+="Reference",S.referenceType=s("referenceType")||"shortcut",delete S.url,delete S.title):(delete S.identifier,delete S.label),o("referenceType")}function b(S){const I=this.stack[this.stack.length-2],B=this.sliceSerialize(S);I.label=decodeString(B),I.identifier=normalizeIdentifier(B).toLowerCase()}function w(){const S=this.stack[this.stack.length-1],I=this.resume(),B=this.stack[this.stack.length-1];o("inReference",!0),B.type==="link"?B.children=S.children:B.alt=I}function X(){const S=this.resume(),I=this.stack[this.stack.length-1];I.url=S}function ie(){const S=this.resume(),I=this.stack[this.stack.length-1];I.title=S}function ee(){o("inReference")}function G(){o("referenceType","collapsed")}function Y(S){const I=this.resume(),B=this.stack[this.stack.length-1];B.label=I,B.identifier=normalizeIdentifier(this.sliceSerialize(S)).toLowerCase(),o("referenceType","full")}function Q(S){o("characterReferenceType",S.type)}function te(S){const I=this.sliceSerialize(S),B=s("characterReferenceType");let U;B?(U=decodeNumericCharacterReference(I,B==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):U=decodeNamedCharacterReference(I);const K=this.stack.pop();K.value+=U,K.position.end=a(S.end)}function ne(S){D.call(this,S);const I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(S)}function ae(S){D.call(this,S);const I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(S)}function me(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function ge(){return{type:"inlineCode",value:""}}function ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function ce(){return{type:"heading",depth:void 0,children:[]}}function he(){return{type:"break"}}function fe(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function de(){return{type:"link",title:null,url:"",children:[]}}function pe(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function ke(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function Ee(){return{type:"thematicBreak"}}}function configure(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?configure(e,r):extension(e,r)}return e}function extension(e,t){let n;for(n in t)if(own.call(t,n)){const r=n==="canContainEols"||n==="transforms",o=(own.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),s=t[n];s&&(r?e[n]=[...o,...s]:Object.assign(o,s))}}function defaultOnError(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is still open")}function remarkParse(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return fromMarkdown(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var remark_parse_default=remarkParse,u=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r},own2={}.hasOwnProperty;function unknown(e,t){const n=t.data||{};return"value"in t&&!(own2.call(n,"hName")||own2.call(n,"hProperties")||own2.call(n,"hChildren"))?e.augment(t,u("text",t.value)):e(t,"div",all2(e,t))}function one2(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return own2.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=returnNode:i=e.unknownHandler,(typeof i=="function"?i:unknown)(e,t,n)}function returnNode(e,t){return"children"in t?{...t,children:all2(e,t)}:t}function all2(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const o=one2(e,r[i],t);if(o){if(i&&r[i-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const s=o.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}var convert=function(e){if(e==null)return ok;if(typeof e=="string")return typeFactory(e);if(typeof e=="object")return Array.isArray(e)?anyFactory(e):propsFactory(e);if(typeof e=="function")return castFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=convert(e[n]);return castFactory(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function propsFactory(e){return castFactory(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function typeFactory(e){return castFactory(t);function t(n){return n&&n.type===e}}function castFactory(e){return t;function t(...n){return Boolean(e.call(this,...n))}}function ok(){return!0}function color(e){return e}var CONTINUE=!0,SKIP="skip",EXIT=!1,visitParents=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=convert(t),o=r?-1:1;s(e,null,[])();function s(a,l,h){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),g;function g(){let d=[],m,y,v;if((!t||i(a,l,h[h.length-1]||null))&&(d=toResult(n(a,h)),d[0]===EXIT))return d;if(a.children&&d[0]!==SKIP)for(y=(r?a.children.length:-1)+o,v=h.concat(a);y>-1&&y<a.children.length;){if(m=s(a.children[y],y,v)(),m[0]===EXIT)return m;y=typeof m[1]=="number"?m[1]:y+o}return d}}};function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:[e]}var visit=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),visitParents(e,t,i,r);function i(o,s){const a=s[s.length-1];return n(o,a?a.children.indexOf(o):null,a)}},pointStart=point2("start"),pointEnd=point2("end");function point2(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function generated(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}function color2(e){return e}var CONTINUE2=!0,SKIP2="skip",EXIT2=!1,visitParents2=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);var i=convert(t),o=r?-1:1;s(e,null,[])();function s(a,l,h){var c=typeof a=="object"&&a!==null?a:{},f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),g;function g(){var d=[],m,y,v;if((!t||i(a,l,h[h.length-1]||null))&&(d=toResult2(n(a,h)),d[0]===EXIT2))return d;if(a.children&&d[0]!==SKIP2)for(y=(r?a.children.length:-1)+o,v=h.concat(a);y>-1&&y<a.children.length;){if(m=s(a.children[y],y,v)(),m[0]===EXIT2)return m;y=typeof m[1]=="number"?m[1]:y+o}return d}}};function toResult2(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE2,e]:[e]}var visit2=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),visitParents2(e,t,i,r);function i(o,s){var a=s[s.length-1];return n(o,a?a.children.indexOf(o):null,a)}},own3={}.hasOwnProperty;function definitions(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return visit2(e,"definition",n),r;function n(i){const o=clean(i.identifier);o&&!own3.call(t,o)&&(t[o]=i)}function r(i){const o=clean(i);return o&&own3.call(t,o)?t[o]:null}}function clean(e){return String(e||"").toUpperCase()}var characterReferences={'"':"quot","&":"amp","<":"lt",">":"gt"};function encode(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+characterReferences[n]+";"}}function sanitizeUri(e,t){const n=encode(normalizeUri(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),o=n.indexOf("#"),s=n.indexOf("/");return r<0||s>-1&&r>s||i>-1&&r>i||o>-1&&r>o||t.test(n.slice(0,r))?n:""}function normalizeUri(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&asciiAlphanumeric(e.charCodeAt(n+1))&&asciiAlphanumeric(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s="\uFFFD"}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function wrap(e,t){const n=[];let r=-1;for(t&&n.push(u("text",`
`));++r<e.length;)r&&n.push(u("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(u("text",`
`)),n}function footer(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=all2(e,r),o=String(r.identifier),s=sanitizeUri(o.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[o];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21A9"}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const h=i[i.length-1];if(h&&h.type==="element"&&h.tagName==="p"){const f=h.children[h.children.length-1];f&&f.type==="text"?f.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:wrap(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:"h2",properties:{id:"footnote-label",className:["sr-only"]},children:[u("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:wrap(n,!0)},{type:"text",value:`
`}]}}function blockquote(e,t){return e(t,"blockquote",wrap(all2(e,t),!0))}function hardBreak(e,t){return[e(t,"br"),u("text",`
`)]}function code(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const o=e(t,"code",i,[u("text",n)]);return t.meta&&(o.data={meta:t.meta}),e(t.position,"pre",[o])}function strikethrough(e,t){return e(t,"del",all2(e,t))}function emphasis(e,t){return e(t,"em",all2(e,t))}function footnoteReference(e,t){const n=String(t.identifier),r=sanitizeUri(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,o=e.footnoteOrder.length):(e.footnoteCounts[n]++,o=i+1);const s=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[u("text",String(o))])])}function footnote(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},footnoteReference(e,{type:"footnoteReference",identifier:i,position:t.position})}function heading(e,t){return e(t,"h"+t.depth,all2(e,t))}function html(e,t){return e.dangerous?e.augment(t,u("raw",t.value)):null}var import_encode=__toESM(require_encode(),1);function revert(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return u("text","!["+t.alt+r);const i=all2(e,t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift(u("text","["));const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push(u("text",r)),i}function imageReference(e,t){const n=e.definition(t.identifier);if(!n)return revert(e,t);const r={src:(0,import_encode.default)(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}var import_encode2=__toESM(require_encode(),1);function image(e,t){const n={src:(0,import_encode2.default)(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function inlineCode(e,t){return e(t,"code",[u("text",t.value.replace(/\r?\n|\r/g," "))])}var import_encode3=__toESM(require_encode(),1);function linkReference(e,t){const n=e.definition(t.identifier);if(!n)return revert(e,t);const r={href:(0,import_encode3.default)(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,all2(e,t))}var import_encode4=__toESM(require_encode(),1);function link(e,t){const n={href:(0,import_encode4.default)(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,all2(e,t))}function listItem(e,t,n){const r=all2(e,t),i=n?listLoose(n):listItemLoose(t),o={},s=[];if(typeof t.checked=="boolean"){let h;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?h=r[0]:(h=e(null,"p",[]),r.unshift(h)),h.children.length>0&&h.children.unshift(u("text"," ")),h.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&s.push(u("text",`
`)),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=r[r.length-1];return l&&(i||!("tagName"in l)||l.tagName!=="p")&&s.push(u("text",`
`)),e(t,"li",o,s)}function listLoose(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=listItemLoose(n[r]);return Boolean(t)}function listItemLoose(e){const t=e.spread;return t??e.children.length>1}function list2(e,t){const n={},r=t.ordered?"ol":"ul",i=all2(e,t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<i.length;){const s=i[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,wrap(i,!0))}function paragraph(e,t){return e(t,"p",all2(e,t))}function root(e,t){return e.augment(t,u("root",wrap(all2(e,t))))}function strong(e,t){return e(t,"strong",all2(e,t))}function table(e,t){const n=t.children;let r=-1;const i=t.align||[],o=[];for(;++r<n.length;){const s=n[r].children,a=r===0?"th":"td",l=[];let h=-1;const c=t.align?i.length:s.length;for(;++h<c;){const f=s[h];l.push(e(f,a,{align:i[h]},f?all2(e,f):[]))}o[r]=e(n[r],"tr",wrap(l,!0))}return e(t,"table",wrap([e(o[0].position,"thead",wrap([o[0]],!0))].concat(o[1]?e({start:pointStart(o[1]),end:pointEnd(o[o.length-1])},"tbody",wrap(o.slice(1),!0)):[]),!0))}function text3(e,t){return e.augment(t,u("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))}function thematicBreak2(e,t){return e(t,"hr")}var handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,footnote,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list:list2,paragraph,root,strong,table,text:text3,thematicBreak:thematicBreak2,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){return null}var own4={}.hasOwnProperty;function factory(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.definition=definitions(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.augment=o,s.handlers={...handlers,...n.handlers},s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,visit(e,"footnoteDefinition",a=>{const l=String(a.identifier).toUpperCase();own4.call(i,l)||(i[l]=a)}),s;function o(a,l){if(a&&"data"in a&&a.data){const h=a.data;h.hName&&(l.type!=="element"&&(l={type:"element",tagName:"",properties:{},children:[]}),l.tagName=h.hName),l.type==="element"&&h.hProperties&&(l.properties={...l.properties,...h.hProperties}),"children"in l&&l.children&&h.hChildren&&(l.children=h.hChildren)}if(a){const h="type"in a?a:{position:a};generated(h)||(l.position={start:pointStart(h),end:pointEnd(h)})}return l}function s(a,l,h,c){return Array.isArray(h)&&(c=h,h={}),o(a,{type:"element",tagName:l,properties:h||{},children:c||[]})}}function toHast(e,t){const n=factory(e,t),r=one2(n,e,null),i=footer(n);return i&&r.children.push(u("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}var remarkRehype=function(e,t){return e&&"run"in e?bridge(e,t):mutate(e||t)},lib_default=remarkRehype;function bridge(e,t){return(n,r,i)=>{e.run(toHast(n,t),r,o=>{i(o)})}}function mutate(e){return t=>toHast(t,e)}var Schema=class{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}};Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Schema(n,r,t)}function normalize5(e){return e.toLowerCase()}var Info=class{constructor(e,t){this.property=e,this.attribute=t}};Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;var types_exports={};__export(types_exports,{boolean:()=>boolean,booleanish:()=>booleanish,commaOrSpaceSeparated:()=>commaOrSpaceSeparated,commaSeparated:()=>commaSeparated,number:()=>number,overloadedBoolean:()=>overloadedBoolean,spaceSeparated:()=>spaceSeparated});var powers=0,boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}var checks=Object.keys(types_exports),DefinedInfo=class extends Info{constructor(e,t,n,r){let i=-1;if(super(e,t),mark(this,"space",r),typeof n=="number")for(;++i<checks.length;){const o=checks[i];mark(this,checks[i],(n&types_exports[o])===types_exports[o])}}};DefinedInfo.prototype.defined=!0;function mark(e,t,n){n&&(e[t]=n)}var own5={}.hasOwnProperty;function create(e){const t={},n={};let r;for(r in e.properties)if(own5.call(e.properties,r)){const i=e.properties[r],o=new DefinedInfo(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[normalize5(r)]=r,n[normalize5(o.attribute)]=r}return new Schema(t,n,e.space)}var xlink=create({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(e,t){return t in e?e[t]:t}function caseInsensitiveTransform(e,t){return caseSensitiveTransform(e,t.toLowerCase())}var xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html2=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,capture:boolean,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function find(e,t){const n=normalize5(t);let r=t,i=Info;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&valid.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(dash,camelcase);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!dash.test(o)){let s=o.replace(cap,kebab);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=DefinedInfo}return new i(r,t)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}var hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},html3=merge([xml,xlink,xmlns,aria,html2],"html"),svg2=merge([xml,xlink,xmlns,aria,svg],"svg");function bail(e){if(e)throw e}var import_is_buffer2=__toESM(require_is_buffer(),1),import_extend=__toESM(require_extend(),1);function isPlainObject(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function trough(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...h){const c=e[++o];let f=-1;if(l){s(l);return}for(;++f<i.length;)(h[f]===null||h[f]===void 0)&&(h[f]=i[f]);i=h,c?wrap2(c,a)(...h):s(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function wrap2(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(h){const c=h;if(a&&n)throw c;return i(c)}a||(l instanceof Promise?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}var import_is_buffer=__toESM(require_is_buffer(),1),VFileMessage=class extends Error{constructor(e,t,n){const r=[null,null];let i={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(n=t,t=void 0),typeof n=="string"){const o=n.indexOf(":");o===-1?r[1]=n:(r[0]=n.slice(0,o),r[1]=n.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(i=t.position):"start"in t||"end"in t?i=t:("line"in t||"column"in t)&&(i.start=t)),this.name=stringifyPosition(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=i.start.line,this.column=i.start.column,this.source=r[0],this.ruleId=r[1],this.position=i,this.actual,this.expected,this.file,this.url,this.note}};VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.fatal=null;VFileMessage.prototype.column=null;VFileMessage.prototype.line=null;VFileMessage.prototype.source=null;VFileMessage.prototype.ruleId=null;VFileMessage.prototype.position=null;var path={basename,dirname,extname,join,sep:"/"};function basename(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');assertPath(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function dirname(e){if(assertPath(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function extname(e){assertPath(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function join(...e){let t=-1,n;for(;++t<e.length;)assertPath(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":normalize6(n)}function normalize6(e){assertPath(e);const t=e.charCodeAt(0)===47;let n=normalizeString(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function normalizeString(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function assertPath(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var proc={cwd};function cwd(){return"/"}function isUrl(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}var order=["history","path","basename","stem","extname","dirname"],VFile=class{constructor(e){let t;e?typeof e=="string"||(0,import_is_buffer.default)(e)?t={value:e}:isUrl(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let n=-1;for(;++n<order.length;){const i=order[n];i in t&&t[i]!==void 0&&(this[i]=i==="history"?[...t[i]]:t[i])}let r;for(r in t)order.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(e){isUrl(e)&&(e=urlToPath(e)),assertNonEmpty(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?path.dirname(this.path):void 0}set dirname(e){assertPath2(this.basename,"dirname"),this.path=path.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?path.basename(this.path):void 0}set basename(e){assertNonEmpty(e,"basename"),assertPart(e,"basename"),this.path=path.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?path.extname(this.path):void 0}set extname(e){if(assertPart(e,"extname"),assertPath2(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?path.basename(this.path,this.extname):void 0}set stem(e){assertNonEmpty(e,"stem"),assertPart(e,"stem"),this.path=path.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,n){const r=new VFileMessage(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}};function assertPart(e,t){if(e&&e.includes(path.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+path.sep+"`")}function assertNonEmpty(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function assertPath2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}var unified=base().freeze(),own6={}.hasOwnProperty;function base(){const e=trough(),t=[];let n={},r,i=-1;return o.data=s,o.Parser=void 0,o.Compiler=void 0,o.freeze=a,o.attachers=t,o.use=l,o.parse=h,o.stringify=c,o.run=f,o.runSync=g,o.process=d,o.processSync=m,o;function o(){const y=base();let v=-1;for(;++v<t.length;)y.use(...t[v]);return y.data((0,import_extend.default)(!0,{},n)),y}function s(y,v){return typeof y=="string"?arguments.length===2?(assertUnfrozen("data",r),n[y]=v,o):own6.call(n,y)&&n[y]||null:y?(assertUnfrozen("data",r),n=y,o):n}function a(){if(r)return o;for(;++i<t.length;){const[y,...v]=t[i];if(v[0]===!1)continue;v[0]===!0&&(v[0]=void 0);const _=y.call(o,...v);typeof _=="function"&&e.use(_)}return r=!0,i=Number.POSITIVE_INFINITY,o}function l(y,...v){let _;if(assertUnfrozen("use",r),y!=null)if(typeof y=="function")$(y,...v);else if(typeof y=="object")Array.isArray(y)?O(y):C(y);else throw new TypeError("Expected usable value, not `"+y+"`");return _&&(n.settings=Object.assign(n.settings||{},_)),o;function T(E){if(typeof E=="function")$(E);else if(typeof E=="object")if(Array.isArray(E)){const[F,...R]=E;$(F,...R)}else C(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function C(E){O(E.plugins),E.settings&&(_=Object.assign(_||{},E.settings))}function O(E){let F=-1;if(E!=null)if(Array.isArray(E))for(;++F<E.length;){const R=E[F];T(R)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function $(E,F){let R=-1,j;for(;++R<t.length;)if(t[R][0]===E){j=t[R];break}j?(isPlainObject(j[1])&&isPlainObject(F)&&(F=(0,import_extend.default)(!0,j[1],F)),j[1]=F):t.push([...arguments])}}function h(y){o.freeze();const v=vfile(y),_=o.Parser;return assertParser("parse",_),newable(_,"parse")?new _(String(v),v).parse():_(String(v),v)}function c(y,v){o.freeze();const _=vfile(v),T=o.Compiler;return assertCompiler("stringify",T),assertNode(y),newable(T,"compile")?new T(y,_).compile():T(y,_)}function f(y,v,_){if(assertNode(y),o.freeze(),!_&&typeof v=="function"&&(_=v,v=void 0),!_)return new Promise(T);T(null,_);function T(C,O){e.run(y,vfile(v),$);function $(E,F,R){F=F||y,E?O(E):C?C(F):_(null,F,R)}}}function g(y,v){let _,T;return o.run(y,v,C),assertDone("runSync","run",T),_;function C(O,$){bail(O),_=$,T=!0}}function d(y,v){if(o.freeze(),assertParser("process",o.Parser),assertCompiler("process",o.Compiler),!v)return new Promise(_);_(null,v);function _(T,C){const O=vfile(y);o.run(o.parse(O),O,(E,F,R)=>{if(E||!F||!R)$(E);else{const j=o.stringify(F,R);j==null||(looksLikeAVFileValue(j)?R.value=j:R.result=j),$(E,R)}});function $(E,F){E||!F?C(E):T?T(F):v(null,F)}}}function m(y){let v;o.freeze(),assertParser("processSync",o.Parser),assertCompiler("processSync",o.Compiler);const _=vfile(y);return o.process(_,T),assertDone("processSync","process",v),_;function T(C){v=!0,bail(C)}}}function newable(e,t){return typeof e=="function"&&e.prototype&&(keys(e.prototype)||t in e.prototype)}function keys(e){let t;for(t in e)if(own6.call(e,t))return!0;return!1}function assertParser(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function assertCompiler(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function assertUnfrozen(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAVFileValue(e){return typeof e=="string"||(0,import_is_buffer2.default)(e)}function stringify(e){return e.join(" ").trim()}function stringify2(e,t){var n=t||{};return e[e.length-1]===""&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var import_style_to_object=__toESM(require_style_to_object(),1),own7={}.hasOwnProperty,tableElements=new Set(["table","thead","tbody","tfoot","tr"]);function childrenToSolid(e,t){const n=[];let r=-1;for(;++r<t.children.length;){const i=t.children[r];i.type==="element"?n.push(toSolid(e,i,r,t)):i.type==="text"?(t.type!=="element"||!tableElements.has(t.tagName)||i.value!==`
`)&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value)}return n}function toSolid(e,t,n,r){const i=e.options,o=e.schema,s=t.tagName,a={};let l=o,h;if(o.space==="html"&&s==="svg"&&(l=svg2,e.schema=l),t.properties)for(h in t.properties)own7.call(t.properties,h)&&addProperty(a,h,t.properties[h],e);(s==="ol"||s==="ul")&&e.listDepth++;const c=childrenToSolid(e,t);(s==="ol"||s==="ul")&&e.listDepth--,e.schema=o;const f=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},g=i.components&&own7.call(i.components,s)?i.components[s]:s,d=typeof g=="string";if(a.key=[s,f.start.line,f.start.column,n].join("-"),s==="a"&&i.linkTarget&&(a.target=typeof i.linkTarget=="function"?i.linkTarget(String(a.href||""),t.children,typeof a.title=="string"?a.title:void 0):i.linkTarget),s==="a"&&i.transformLinkUri&&(a.href=i.transformLinkUri(String(a.href||""),t.children,typeof a.title=="string"?a.title:void 0)),!d&&s==="code"&&r.type==="element"&&r.tagName!=="pre"&&(a.inline=!0),!d&&(s==="h1"||s==="h2"||s==="h3"||s==="h4"||s==="h5"||s==="h6")&&(a.level=Number.parseInt(s.charAt(1),10)),s==="img"&&i.transformImageUri&&(a.src=i.transformImageUri(String(a.src||""),String(a.alt||""),typeof a.title=="string"?a.title:void 0)),!d&&s==="li"&&r.type==="element"){const m=getInputElement(t);a.checked=m&&m.properties?Boolean(m.properties.checked):null,a.index=getElementsBeforeCount(r,t),a.ordered=r.tagName==="ol"}return!d&&(s==="ol"||s==="ul")&&(a.ordered=s==="ol",a.depth=e.listDepth),(s==="td"||s==="th")&&(a.align&&(a.style||(a.style={}),a.style.textAlign=a.align,delete a.align),d||(a.isHeader=s==="th")),!d&&s==="tr"&&r.type==="element"&&(a.isHeader=Boolean(r.tagName==="thead")),i.sourcePos&&(a["data-sourcepos"]=flattenPosition(f)),!d&&i.rawSourcePos&&(a.sourcePosition=t.position),!d&&i.includeElementIndex&&(a.index=getElementsBeforeCount(r,t),a.siblingCount=getElementsBeforeCount(r)),d||(a.node=t),createComponent(Dynamic,mergeProps({component:g},a,{children:c}))}function getInputElement(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function getElementsBeforeCount(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function addProperty(e,t,n,r){const i=find(r.schema,t);let o=n;o==null||o!==o||(Array.isArray(o)&&(o=i.commaSeparated?stringify2(o):stringify(o)),i.property==="style"&&typeof o=="string"&&(o=parseStyle(o)),i.space&&i.property?e[own7.call(hastToReact,i.property)?hastToReact[i.property]:i.property]=o:i.attribute&&(e[i.attribute]=o))}function parseStyle(e){const t={};try{(0,import_style_to_object.default)(e,n)}catch{}return t;function n(r,i){const o=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[o.replace(/-([a-z])/g,styleReplacer)]=i}}function styleReplacer(e,t){return t.toUpperCase()}function flattenPosition(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(t=>String(t)).join("")}var rehypeFilter=e=>{if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{visit(t,"element",(n,r,i)=>{const o=i;if(o===null)return;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,o)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?o.children.splice(r,1,...n.children):o.children.splice(r,1),r})}},rehype_filter_default=rehypeFilter,defaults={remarkPlugins:[],rehypePlugins:[],class:"",unwrapDisallowed:!1,disallowedElements:void 0,allowedElements:void 0,allowElement:void 0,children:"",sourcePos:!1,rawSourcePos:!1,skipHtml:!1,includeElementIndex:!1,transformLinkUri:null,transformImageUri:void 0,linkTarget:"_self",components:{}},SolidMarkdown=e=>{const t=mergeProps(defaults,e),n=unified().use(remark_parse_default).use(t.remarkPlugins||[]).use(lib_default,{allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(rehype_filter_default,t),r=new VFile;typeof t.children=="string"?r.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[solid-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const i=n.runSync(n.parse(r),r);if(i.type!=="root")throw new TypeError("Expected a `root` node");return(()=>{const o=_tmpl$$3.cloneNode(!0);return insert(o,()=>childrenToSolid({options:t,schema:html3,listDepth:0},i)),createRenderEffect(()=>className(o,t.class)),o})()},lib_default2=SolidMarkdown;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const _tmpl$$2=template('<div class="markdown"></div>');function MarkdownViewer(e){const{children:t}=e,n=()=>e.children(),[r,i]=createSignal(!0);return createEffect(()=>{n(),i(!1),setTimeout(()=>{i(!0)})}),(()=>{const o=_tmpl$$2.cloneNode(!0);return insert(o,createComponent(Show,{get when(){return r()},get children(){return createComponent(lib_default2,{get children(){return t()},remarkPlugins:[remarkGfm]})}})),o})()}const _tmpl$$1=template("<div>By </div>"),_tmpl$2$1=template('<a class="value" target="_blank"></a>'),_tmpl$3=template("<div>\u2705 Done at </div>"),_tmpl$4=template("<p></p>"),_tmpl$5=template('<div class="view"><div><button>\u270F\uFE0F</button></div></div>'),_tmpl$6=template('<div class="edit"><button>\u{1F440}</button><div><textarea cols="80" rows="10"></textarea><textarea cols="80" rows="28"></textarea></div></div>'),_tmpl$7=template('<div class="sidebar"><h2></h2></div>'),_tmpl$8=template('<span class="tag">#</span>');function Sidebar({currentItem:e,consoleOutput:t,controller:n}){const r=n.stateManager.sidebarMode;let i;return createEffect(()=>{r()=="edit"&&(i.focus(),i.selectionStart=e().content?.length)}),createComponent(Show,{get when(){return memo(()=>!!e(),!0)()&&t()==""},get children(){const o=_tmpl$7.cloneNode(!0),s=o.firstChild;return insert(s,()=>e().title),insert(o,createComponent(Show,{get when(){return r()==="view"},get children(){const a=_tmpl$5.cloneNode(!0),l=a.firstChild,h=l.firstChild;return insert(a,createComponent(Show,{get when(){return e().author},get children(){const c=_tmpl$$1.cloneNode(!0);return c.firstChild,insert(c,()=>e().author,null),c}}),l),insert(a,createComponent(Show,{get when(){return e().link},get children(){const c=_tmpl$2$1.cloneNode(!0);return insert(c,()=>cropString(e().link,50)),createRenderEffect(()=>setAttribute(c,"href",e().link)),c}}),l),insert(a,createComponent(Show,{get when(){return e().doneAt},get children(){const c=_tmpl$3.cloneNode(!0);return c.firstChild,insert(c,()=>new Date(e().doneAt).toLocaleString(),null),c}}),l),insert(a,createComponent(Show,{get when(){return e().description},get children(){const c=_tmpl$4.cloneNode(!0);return insert(c,()=>e().description),c}}),l),insert(a,createComponent(For,{get each(){return e().tags},children:(c,f)=>(()=>{const g=_tmpl$8.cloneNode(!0);return g.firstChild,insert(g,c,null),g})()}),l),h.$$click=c=>n.toggleSidebarMode(),insert(a,createComponent(MarkdownViewer,{get children(){return memo(()=>e().content||"")}}),null),a}}),null),insert(o,createComponent(Show,{get when(){return r()==="edit"},get children(){const a=_tmpl$6.cloneNode(!0),l=a.firstChild,h=l.nextSibling,c=h.firstChild,f=c.nextSibling;l.$$click=d=>n.toggleSidebarMode(),c.addEventListener("change",d=>n.setNodeData(e().id,d.target.value)),insert(c,()=>JSON.stringify(e(),null,1)),f.addEventListener("change",d=>n.setContent(e().id,d.target.value));const g=i;return typeof g=="function"?g(f):i=f,insert(f,()=>e().content),createRenderEffect(()=>c.value=JSON.stringify(e(),null,1)),createRenderEffect(()=>f.value=e().content),a}}),null),o}})}delegateEvents(["click"]);const _tmpl$=template('<div class="sidebar markdown"></div>'),_tmpl$2=template('<main class="main"><div class="list"></div><div class="command"><input></div></main>'),help="\n## Shortcuts\n`\u2318 \u2191` Move node up  \n`\u2318 \u2193` Move node down  \n`\u2318 \u2190` Hide child nodes  \n`\u2318 \u2192` Show child nodes  \n`Tab` Move node right  \n`\u21E7 Tab` Move node left  \n`\u2318 \u23CE` Toggle done/undone  \n`\u2318 Z` Undo action  \n`:` Open command pallete  \n\n## Commands\n`:help` or `:` Print help  \n`:clear` or `<empty>` Clear output  \n`:smile` Print smile  \n`:dump` Print data in JSON  \n`:toggle` Theme Toggle theme  \n`:echo <text>` Show <text>  \n`:exec <expr>` Execute JS expression and print result  \n`:signup <email> <password>` Sign up  \n`:signin <email> <password>` Sign in  \n`:save` Save data to external storage  \n`:load` Load data from external storage  \n";function App(){let bodyRef=document.body,commandInputRef;const controller=new Controller,currentItem=()=>controller.getCurrentItem();createEffect(()=>{bodyRef.dataset.theme=controller.stateManager.state.theme});const[consoleOutput,setConsoleOutput]=createSignal(""),globalOnKeyDown=e=>{if(e.key=="e"&&e.metaKey){controller.toggleSidebarMode();return}if(controller.stateManager.sidebarMode()==="edit"){e.key==="Tab"&&e.preventDefault();return}e.key=="ArrowUp"&&!e.metaKey&&controller.selectPrevItem(),e.key=="ArrowDown"&&!e.metaKey&&controller.selectNextItem(),e.key=="ArrowUp"&&e.metaKey&&controller.moveNodeUp(),e.key=="ArrowDown"&&e.metaKey&&controller.moveNodeDown(),e.key=="/",e.key==":"&&commandInputRef.focus(),e.key=="z"&&e.metaKey&&(e.preventDefault(),controller.undoAction())},onKeyDown=e=>{if(controller.stateManager.sidebarMode()!=="edit"){if(e.key==="Tab"&&(e.preventDefault(),e.shiftKey?controller.moveNodeLeft():controller.moveNodeRight()),e.key=="ArrowLeft"&&e.metaKey&&(e.preventDefault(),controller.collapseNode()),e.key=="ArrowRight"&&e.metaKey&&(e.preventDefault(),controller.expandNode()),e.key=="Enter"){if(e.altKey){controller.toggleNodeStatus(),e.preventDefault();return}controller.createNode(e.shiftKey)}e.key=="Backspace"&&currentItem().title===""&&(controller.deleteNode(),e.preventDefault())}},handlePaste=e=>{e.stopPropagation(),e.preventDefault();const n=e.clipboardData.getData("Text"),r=n.split(`
`);console.log("handle paste",{pastedData:n}),r.length>1?controller.bulkInsert(r):controller.loadInfo(n)},search=e=>{},log=e=>{setConsoleOutput(e)},execCommand=input=>{let[cmd,...args]=input.split(" ");if(cmd==":"&&(cmd=":help"),cmd[0]==":"&&(cmd=cmd.slice(1)),cmd[0]=="/"){search(cmd.slice(1));return}if(cmd==""){log("");return}const commands={smile:()=>log("\u{1F642}"),echo:(...e)=>log(e.join(" ")),clear:()=>log(""),exec:(...args)=>log(eval(args.join(" ")).toString()),toggleTheme:()=>controller.toggleTheme(),dump:()=>log(localStorage.getItem("state")),help:()=>log(help),signup:(...e)=>{const[t,n]=e;if(!t||!n){console.log({args:e}),log("Input email and password");return}supabase.auth.signUp({email:t,password:n}).then(r=>{console.log(r),log("Confirm your email")})},signin:(...e)=>{const[t,n]=e;if(!t||!n){console.log({args:e}),log("Input email and password");return}supabase.auth.signInWithPassword({email:t,password:n}).then(r=>{console.log(r),controller.setUser(r),log(`Logged in as ${r.data.user.email}`)})},whoami:()=>{log(`\`\`\`json
${JSON.stringify(controller.stateManager.state.user,null,2)}\`\`\``)},save:()=>{controller.saveData().then(e=>log("Data saved"))},load:()=>{log("Loading..."),controller.fetchData().then(e=>log("Data fetched"))}};commands[cmd]?commands[cmd](...args):log(`Unknown command ${cmd}`)};return bodyRef.addEventListener("keydown",globalOnKeyDown),(()=>{const e=_tmpl$2.cloneNode(!0),t=e.firstChild,n=t.nextSibling,r=n.firstChild;t.$$keydown=onKeyDown,insert(t,createComponent(For,{get each(){return controller.getTree()},children:(o,s)=>createComponent(TreeNode,{item:o,controller,handlePaste})})),insert(e,createComponent(Show,{get when(){return!currentItem()||consoleOutput()!==""},get children(){const o=_tmpl$.cloneNode(!0);return insert(o,createComponent(MarkdownViewer,{children:consoleOutput})),o}}),n),insert(e,createComponent(Sidebar,{consoleOutput,currentItem,controller}),n),r.$$keyup=o=>o.key=="Enter"?execCommand(o.target.value):null;const i=commandInputRef;return typeof i=="function"?i(r):commandInputRef=r,e})()}delegateEvents(["keydown","keyup"]);render(()=>createComponent(App,{}),document.getElementById("root"));
